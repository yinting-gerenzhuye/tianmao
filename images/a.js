KISSY.add("zebra-pages/fp/pc/js/index",function(e,r,a,o,s,i,n){var t=window.g_config||{};var p=e.unparam(location.search.slice(1));var u="zebra-pages/fp/pc/js/mods/";var m;window._CTK8e29=window._CTK8e29||function(){var e={},r="",a=0;function o(e){var r=0,a,o,s;if(e.length===0)return r;for(a=0,s=e.length;a<s;a++){o=e.charCodeAt(a);r=(r<<5)-r+o;r|=0}return r}return function(s,i,n,p){p=p||{};if(p.reject){if(typeof p.reject!="object"){p.reject=[p.reject]}for(var u=p.reject.length-1;u>=0;u--){if(e[p.reject[u]]){return}}}if(!r){r=i}var m=(new Date).valueOf();e[i]=m;var d;if(i==r){var c=window.g_config&&t.startTime;d=c?m-c:0}else{d=m-(e[n||r]||e[r])}switch(p.autoGroup){case"time":p.group=p.autoGroup+"_"+(d<=0?0:Math.floor(Math.log(d)/Math.log(2)));break}if(typeof s=="object"){s=s[p.group||"_"]||Math.round(Math.log((undefined||8192)/(undefined||1/16))/Math.log(2))}var g=[.34,.34,.24,.24,.2,.23,.21,.1,.15,.09,.11,.14,.08,.09,.08,.09,.11,.08,.1,.05,.02,.07,.04,.07,.07,.05,.07,.08,.07,.02,.04,.02,.05,.01,.04,.05,.05,.03,.05,.04,.05,.09,.14,.2,.2,.26,.27,.35,.5,.64,.68,.94,1.28,1.15,1.52,1.66,1.71,1.47,1.53,1.69,1.67,1.61,1.82,1.66,1.92,1.89,2.22,2.04,2.02,1.87,1.53,1.6,1.77,1.44,1.24,1.43,1.66,1.61,1.57,1.55,1.61,1.54,1.8,1.53,1.67,1.81,1.79,2.09,1.72,2.08,1.8,1.88,1.69,1.7,1.89,1.7,1.36,1.79,1.77,1.91,1.79,1.44,1.52,1.47,1.72,1.43,1.08,1.34,1.33,1.18,1.05,1.16,1.51,1.36,1.08,1.45,1.18,1.11,1.36,1.55,1.47,1.42,1.67,1.32,1.69,1.61,1.46,1.35,1.8,1.4,1.18,1.25,1.27,1.13,1.04,1.04,.93,.94,.88,.67,.55,.45,.45,.38],f=g&&g[Math.floor((m+288e5)/(864e5/144))%144]||1,l=Math.round(Math.max(Math.pow(2,s)*f/(undefined||8192),1));if(Math.floor(Math.random()*l)>0){return}function b(e,r){var s="undefined"+a++,i=window[s]=new Image;i.onload=i.onerror=function(){window[s]=null};var n=["type="+encodeURIComponent(p.type||"normal"),"name="+encodeURIComponent(e),"parent="+encodeURIComponent(r||""),"module="+encodeURIComponent(p.dataId||"25"),"msg="+encodeURIComponent(p.msg||""),"version="+encodeURIComponent("4.4.24"),"sample="+l,"time="+(d>0?d:0)].join("&");i.src="//gm.mmstat.com/tmjs.1.1?"+n+"&hash="+o(n)}if(p.group){b(i+"|"+p.group,i)}b(i,n)}}();_CTK8e29(24,"codetrack.init");window.fpModule={};var d={init:function(){var o=this;window.g_defaultData=window.g_defaultData||{};_CTK8e29(24,"app.init");if(location&&location.pathname==="/wow/portal/act/fp"){_CTK8e29(0,"error:domain.error","app.init",{msg:"\u6d41\u91cf\u6ca1\u5207\u5e72\u51c0",type:"error"})}var o=this;e.ready(function(){o._autoFocus()});n.initWebp();o._initPerformance();if(p["wh_fpStatic"]==="1"){o._sucHandler1()}else{o._initFromServer1()}var i=["category","channel","brand","market","wonderful","datalazy","header","hot-brand","exposure","fix-search"];for(var t=0,m=i.length;t<m;t++){i[t]=u+i[t]}n.smartLazy(function(){setTimeout(function(n){e.use(i.join(","),function(e,i,n,t,p,u,m,d,c,g,f){var l=function(o){s.init();if(window.is1111&&(!a.ie||a.ie>7)){e.use("mui/zebra-act-top-marquee/index-pc",function(e,a){var o=r.get(".zebra-act-top-marquee");if(o){new a(o)}})}setTimeout(function(){if(a.ie&&a.ie<8){}else{i.init(o)}},100);e.use("mui/view-port-listen/index",function(e,r){var a=new r({listenItems:e.all(".fp-floor"),listenCallback:function(){var r=e.one(this).attr("data-floorname");var a=this;if(r){r=r.split(",");e.each(r,function(e){if(fpModule[e]&&fpModule[e].init){fpModule[e].init(o);setTimeout(function(){g.init()},200)}})}},diff:{top:200,bottom:200}})});setTimeout(function(){d.init(o)},100);setTimeout(function(){m.init()},100);setTimeout(function(){g.init()},100);setTimeout(function(){f.init()},100);setTimeout(function(){u.init()},200)};var b=function(){};o._initFromServer2(l,b)})},300)})},_initFromServer1:function(){var e=this;o.loadInitData([i.RES_ID_ARR],function(r){_CTK8e29(24,"ald.suc1","app.init",{msg:"\u9996\u5c4f\u6570\u636e\u52a0\u8f7d\u5b8c\u6bd5"});e._sucHandler1(r);m&&m.timeStamp("firstRender ready");_CTK8e29(24,"firstScreen","ald.suc1",{msg:"\u9996\u5c4f\u6e32\u67d3\u5b8c\u6bd5"})},function(r){_CTK8e29(0,"error:ald.error","app.init",{msg:"\u8c03\u7528\u963f\u62c9\u4e01\u63a5\u53e3\u5931\u8d25",type:"error"});if(g_defaultData){e._sucHandler1()}else{e._errHandler2()}})},_sucHandler1:function(e){i.init(e)},_initFromServer2:function(e,r){var a=this;var s="25ee500980f3990c4a971ae39279d0c3";o.loadPage({pageVersion:s},function(r){_CTK8e29(24,"ald.suc2","app.init",{msg:"\u6b21\u5c4f\u6570\u636e\u52a0\u8f7d\u5b8c\u6bd5"});e&&e(r)},function(){_CTK8e29(0,"error:ald.error","app.init",{msg:"\u8c03\u7528\u963f\u62c9\u4e01\u63a5\u53e3\u5931\u8d25",type:"error"});if(g_defaultData){e&&e()}else{r&&r()}})},_autoFocus:function(){var e=document.getElementById("mq");e&&e.focus()},_initPerformance:function(){n.smartLazy(function(){e.getScript("//g.alicdn.com/??hybrid/api/2.0.3/hybrid.min.js,mui/velocity-monitor/3.0.7/index.js",function(){Velocity.config({id:"tm/fp",ver:"4.0.0",sampling:t.sampling||800});Velocity.timing();Velocity.resourceTiming();Velocity.timeStamp("c_ready");m=Velocity})})}};return d},{requires:["dom","ua","zebra-pages/fp/pc/js/mods/model","zebra-pages/fp/pc/js/mods/top","zebra-pages/fp/pc/js/mods/main-banner","zebra-pages/fp/pc/js/mods/util"]});KISSY.add("zebra-pages/fp/pc/js/mods/model",function(a,e,r,t,n,i,s,l){var o=window.g_config||{};var d=a.unparam(document.location.search.substring(1));var v="__dev__"in d;var c=~document.location.host.indexOf(".demo.");var p=~document.location.host.indexOf(".daily.");var m=v||c||p;var f=m?"daily":"online";var u={logicPage:"//ald.alicdn.com/home/delivery/getContentByVersion.do",ald:"//aldh5.tmall.com/recommend.htm",alds:"//aldh5.tmall.com/recommend2.htm",aldBrand:"//aldh5.tmall.com/recommend.htm",addBrand:"//brand.tmall.com/ajax/brandAddToFav.htm",delBrand:"//brand.tmall.com/ajax/brandDelFromFav.htm",addMemberExp:"//tmm.taobao.com/api/exper/tmall_homepage_exper.do",dmj:"https://a2s.mlt01.com/tp.htm",getTime:"//t.alicdn.com/t/gettime",loadRgn:o.sl=="node"?"/wh/tpl/tmall-fp/3.0/helper/load":"//www.tmall.com/tmall-fp/3.0/mods/load.php"};var g=d["wh_timeout"];var x="noCache"in d;var b=window.TB&&TB.Global&&TB.Global.storage||new s;var h=a.one("#J_defaultData");if(h&&!window.g_defaultData){if(r.ie&&r.ie<8){}else{try{window.g_defaultData=n.parse(h.html()).page["100"]}catch(L){}}}var w={getServerTime:function(a,e){var r=this;t({url:u["getTime"],dataType:"jsonp",timeout:3,success:function(r){if(!r||!r.time){e&&e("ERR_LIMITED")}else{a&&a(r)}},error:function(){e&&e("ERR_TIME_OUT")}})},defaultBrandWallRec:function(a,e){var r=this;r.brandWallRec("",a,e)},brandWallRec:function(a,e,r){var t=this;t.load({apiName:"aldBrand",data:{appId:"03289",type:a},timeout:o.timeout||5},function(a){if(a&&a.data&&a.data.length>=24){e&&e(a)}else{r&&r("ERR_SYS")}},r)},addBrand:function(a,e,r){var t=this;t.load({apiName:"addBrand",data:{_tb_token_:TB.userInfo.tbToken,brandId:a}},e,r)},delBrand:function(a,e,r){var t=this;t.load({apiName:"delBrand",data:{_tb_token_:TB.userInfo.tbToken,brandId:a}},function(a){if(a&&a["is_success"]=="T"){e&&e()}else{r&&r()}},r)},addMemberExp:function(){var a=this;a.load({apiName:"addMemberExp"},function(){})},getEnv:function(){return f},isTestEnv:function(){return m},loadInitData:function(a,e,r,t){var n=this;if(!a||!e)return;n.loadAlds(a,function(a){e(a);try{b.set({k:t||"__fp_init_data"+(window.is1111?"1111":""),v:a,expires:1/48})}catch(r){l.log(r)}},function(){n.loadInitDataFromCache(t||"__fp_init_data"+(window.is1111?"1111":""),e,function(){n.loadInitDataFromBackup(e,r)})})},loadAd:function(e,r){window.tanx_ssp_load_ad=window.tanx_ssp_load_ad||[];var t={};t[e]=function(a){r&&r(a)};window.tanx_ssp_load_ad.push(t);a.getScript("//p.tanx.com/ex?i="+e,{success:function(){_CTK8e29(24,"tanx.suc","app.init",{msg:"\u94bb\u5c55\u5e7f\u544a"+e+"\u52a0\u8f7d\u6210\u529f"})},timeout:5,error:function(){a.all(".tanx-con-"+e).hide();_CTK8e29(0,"error:tanx.error","app.init",{msg:"\u94bb\u5c55\u5e7f\u544a"+e+"\u52a0\u8f7d\u5931\u8d25",type:"error"})}})},loadInitDataFromBackup:function(a,e){if(window.g_defaultData){a&&a(window.g_defaultData)}else{e&&e()}},loadInitDataFromCache:function(a,e,r){try{b.get({k:a||"__fp_init_data",success:e,error:r})}catch(t){r&&r("");l.log(t)}},loadAlds:function(a,e,r){var t=this;var n=[];n=n.concat.apply(n,a);t.load({apiName:"alds",timeout:g||3,data:{appId:n.join(",")}},function(a){if(a){e&&e(a);try{b.set({k:"__fp_alds_data"+n.join(",")+(window.is1111?"1111":""),v:a,expires:1/48})}catch(i){l.log(i)}}else{t.loadInitDataFromCache("__fp_alds_data"+n.join(",")+(window.is1111?"1111":""),e,r)}},function(a){t.loadInitDataFromCache("__fp_alds_data"+n.join(",")+(window.is1111?"1111":""),e,r)})},loadAld:function(a,e,r){var t=this;t.load({apiName:"ald",data:a},function(a){if(a&&a.data){e&&e(a)}else{r&&r({err:"\u963f\u62c9\u4e01\u63a5\u53e3\u6ca1\u6570\u636e"})}},function(a){r&&r(a)})},loadDMJ:function(e,r,t){var n={ec:"UTF-8",fv:"18",ifm:0,hl:4,fc:0,si:1,sw:414,sh:200,asw:414,ash:200,ce:1,je:1,pt:1,pl:26,ml:77,lm:0,jsv:1,cb:1,cna:i.get("cna")||0};if(e){n=a.merge(n,e)}var s=this;s.load({apiName:"dmj",data:n},function(e){if(!a.isEmptyObject(e)){r&&r(e)}else{t&&t("ERR_SYS")}},t)},loadPage:function(a,e,r,t){var n=this;n.load({apiName:"logicPage",data:a},function(a){if(a){e&&e(a);b.set({k:t||"__fp_init_data2"+(window.is1111?"1111":""),v:a,expires:1/48})}else{n.loadInitDataFromCache(t||"__fp_init_data2"+(window.is1111?"1111":""),e,function(){n.loadInitDataFromBackup(e,r)})}},function(a){n.loadInitDataFromCache(t||"__fp_init_data2"+(window.is1111?"1111":""),e,function(){n.loadInitDataFromBackup(e,r)})})},load:function(a,e,r){a.data=a.data||{};t({url:u[a.apiName],data:a.data,dataType:a.dataType||"jsonp",timeout:a.timeout||g||5,scriptCharset:a.scriptCharset||"gbk",success:function(a){if(!a||a.status==1111){r&&r({err:"ERR_LIMITED"})}else{e&&e(a)}},error:function(a){r&&r({err:"ERR_TIME_OUT"})}})}};return w},{requires:["node","ua","io","json","cookie","mui/storage","zebra-pages/fp/pc/js/mods/util"]});/*
Copyright 2014, KISSY v1.49.10
MIT Licensed
build time: Dec 10 15:04
*/
KISSY.add("node/base",["dom","event/dom"],function(b,e){function c(f,m,g){if(!(this instanceof c))return new c(f,m,g);if(f)if("string"===typeof f){if(f=h.create(f,m,g),f.nodeType===k.DOCUMENT_FRAGMENT_NODE)return d.apply(this,a(f.childNodes)),this}else{if(b.isArray(f)||j(f))return d.apply(this,a(f)),this}else return this;this[0]=f;this.length=1;return this}var h=e("dom"),i=e("event/dom"),g=Array.prototype,l=g.slice,k=h.NodeType,d=g.push,a=b.makeArray,j=h.isDomNodeList;c.prototype={constructor:c,isNodeList:!0,
length:0,item:function(f){return"number"===typeof f?f>=this.length?null:new c(this[f]):new c(f)},add:function(f,a,b){"number"===typeof a&&(b=a,a=void 0);f=c.all(f,a).getDOMNodes();a=new c(this);void 0===b?d.apply(a,f):(b=[b,0],b.push.apply(b,f),g.splice.apply(a,b));return a},slice:function(){return new c(l.apply(this,arguments))},getDOMNodes:function(){return l.call(this)},each:function(a,d){var k=this;b.each(k,function(b,j){b=new c(b);return a.call(d||b,b,j,k)});return k},getDOMNode:function(){return this[0]},
end:function(){return this.__parent||this},filter:function(a){return new c(h.filter(this,a))},all:function(a){a=0<this.length?c.all(a,this):new c;a.__parent=this;return a},one:function(a){a=this.all(a);if(a=a.length?a.slice(0,1):null)a.__parent=this;return a}};b.mix(c,{all:function(a,d){return"string"===typeof a&&(a=b.trim(a))&&3<=a.length&&b.startsWith(a,"<")&&b.endsWith(a,">")?(d&&(d.getDOMNode&&(d=d[0]),d=d.ownerDocument||d),new c(a,void 0,d)):new c(h.query(a,d))},one:function(a,d){var b=c.all(a,
d);return b.length?b.slice(0,1):null}});c.NodeType=k;c.KeyCode=i.KeyCode;c.Gesture=i.Gesture;c.REPLACE_HISTORY=i.REPLACE_HISTORY;return c});
KISSY.add("node/attach",["dom","event/dom","./base"],function(b,e){function c(d,a,b){b.unshift(a);d=h[d].apply(h,b);return void 0===d?a:d}var h=e("dom"),i=e("event/dom"),g=e("./base"),l=g.prototype,k=b.makeArray;g.KeyCode=i.KeyCode;b.each("nodeName,isCustomDomain,getEmptyIframeSrc,equals,contains,index,scrollTop,scrollLeft,height,width,innerHeight,innerWidth,outerHeight,outerWidth,addStyleSheet,appendTo,prependTo,insertBefore,before,after,insertAfter,test,hasClass,addClass,removeClass,replaceClass,toggleClass,removeAttr,hasAttr,hasProp,scrollIntoView,remove,empty,removeData,hasData,unselectable,wrap,wrapAll,replaceWith,wrapInner,unwrap".split(","),function(d){l[d]=
function(){var a=k(arguments);return c(d,this,a)}});b.each("getWindow,getDocument,filter,first,last,parent,closest,next,prev,clone,siblings,contents,children".split(","),function(d){l[d]=function(){var a=k(arguments);a.unshift(this);a=h[d].apply(h,a);return a===void 0?this:a===null?null:new g(a)}});b.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,outerHTML:0,outerHtml:0,data:1},function(d,a){l[a]=function(){var j;j=k(arguments);void 0===j[d]&&!b.isObject(j[0])?(j.unshift(this),j=h[a].apply(h,
j)):j=c(a,this,j);return j}});b.each(["on","detach","delegate","undelegate"],function(d){l[d]=function(){var a=k(arguments);a.unshift(this);i[d].apply(i,a);return this}});b.each(["fire","fireHandler"],function(d){l[d]=function(){var a=k(arguments);a.unshift(this);return i[d].apply(i,a)}})});
KISSY.add("node/override",["dom","./base","./attach"],function(b,e){var c=e("dom"),h=e("./base");e("./attach");var i=h.prototype;b.each(["append","prepend","before","after"],function(b){i[b]=function(e){"object"!==typeof e&&(e=c.create(e+""));if(e)c[b](e,this);return this}});b.each(["wrap","wrapAll","replaceWith","wrapInner"],function(b){var c=i[b];i[b]=function(b){"string"===typeof b&&(b=h.all(b,this[0].ownerDocument));return c.call(this,b)}})});
KISSY.add("node/anim",["./base","dom","anim"],function(b,e){function c(b,d,a){for(var c=[],f={},a=a||0;a<d;a++)c.push.apply(c,l[a]);for(a=0;a<c.length;a++)f[c[a]]=b;return f}var h=e("./base"),i=e("dom"),g=e("anim"),l=[["height","margin-top","margin-bottom","padding-top","padding-bottom"],["width","margin-left","margin-right","padding-left","padding-right"],["opacity"]];b.augment(h,{animate:function(){var c=b.makeArray(arguments);b.each(this,function(d){var a=b.clone(c),e=a[0];e.to?(e.node=d,(new g(e)).run()):
g.apply(void 0,[d].concat(a)).run()});return this},stop:function(c,d,a){b.each(this,function(b){g.stop(b,c,d,a)});return this},pause:function(c,d){b.each(this,function(a){g.pause(a,d)});return this},resume:function(c,d){b.each(this,function(a){g.resume(a,d)});return this},isRunning:function(){for(var b=0;b<this.length;b++)if(g.isRunning(this[b]))return!0;return!1},isPaused:function(){for(var b=0;b<this.length;b++)if(g.isPaused(this[b]))return!0;return!1}});b.each({show:c("show",3),hide:c("hide",3),
toggle:c("toggle",3),fadeIn:c("show",3,2),fadeOut:c("hide",3,2),fadeToggle:c("toggle",3,2),slideDown:c("show",1),slideUp:c("hide",1),slideToggle:c("toggle",1)},function(c,d){h.prototype[d]=function(a,e,f){if(i[d]&&!a)i[d](this);else b.each(this,function(b){(new g(b,c,a,f,e)).run()});return this}})});
KISSY.add("node",["node/base","node/attach","node/override","node/anim"],function(b,e){var c=e("node/base");e("node/attach");e("node/override");e("node/anim");b.mix(b,{Node:c,NodeList:c,one:c.one,all:c.all});return c});
/*
Copyright 2014, KISSY v1.49.10
MIT Licensed
build time: Dec 10 14:46
*/
KISSY.add("anim",["anim/base","anim/timer","anim/transition?"],function(b,g){function a(a,e,d,f,c){if(a.node)c=a;else{"string"===typeof e?(e=b.unparam(""+e,";",":"),b.each(e,function(c,a){var d=b.trim(a);d&&(e[d]=b.trim(c));(!d||d!==a)&&delete e[a]})):e=b.clone(e);if(b.isPlainObject(d))c=b.clone(d);else if(c={complete:c},d&&(c.duration=d),f)c.easing=f;c.node=a;c.to=e}c=b.merge(k,c,{useTransition:b.config("anim/useTransition")});return c.useTransition&&h?new h(c):new i(c)}var j=g("anim/base"),i=g("anim/timer"),
h=g("anim/transition?"),f=j.Utils,k={duration:1,easing:"linear"};b.each(["pause","resume"],function(b){a[b]=function(a,d){return null===d||"string"===typeof d||!1===d?f.pauseOrResumeQueue(a,d,b):f.pauseOrResumeQueue(a,void 0,b)}});a.isRunning=f.isElRunning;a.isPaused=f.isElPaused;a.stop=f.stopEl;a.Easing=i.Easing;b.Anim=a;a.Q=j.Q;return a});
/*
Copyright 2014, KISSY v1.49.10
MIT Licensed
build time: Dec 10 14:46
*/
KISSY.add("anim/base/queue",["dom"],function(c,i){function h(a,b,c){var b=b||f,j,m=d.data(a,g);!m&&!c&&d.data(a,g,m={});m&&(j=m[b],!j&&!c&&(j=m[b]=[]));return j}var d=i("dom"),g=c.guid("ks-queue-"+c.now()+"-"),f=c.guid("ks-queue-"+c.now()+"-"),a;return a={queueCollectionKey:g,queue:function(a,c,d){a=h(a,c);a.push(d);return a},remove:function(e,b,d){var j=h(e,b,1);j&&(d=c.indexOf(d,j),-1<d&&j.splice(d,1));j&&!j.length&&a.clearQueue(e,b);return j},clearQueues:function(a){d.removeData(a,g)},clearQueue:function(a,
b){var b=b||f,l=d.data(a,g);l&&delete l[b];c.isEmptyObject(l)&&d.removeData(a,g)},dequeue:function(c,b){var d=h(c,b,1);d&&(d.shift(),d.length||a.clearQueue(c,b));return d}}});
KISSY.add("anim/base/utils",["./queue","dom"],function(c,i){var h=i("./queue"),d=i("dom"),g=c.guid("ks-anim-unqueued-"+c.now()+"-"),f=c.guid("ks-anim-paused-"+c.now()+"-");return{saveRunningAnim:function(a){var e=a.node,b=d.data(e,g);b||d.data(e,g,b={});b[c.stamp(a)]=a},removeRunningAnim:function(a){var e=a.node,b=d.data(e,g);b&&(delete b[c.stamp(a)],c.isEmptyObject(b)&&d.removeData(e,g))},isAnimPaused:function(a){var e=d.data(a.node,f);return e?!!e[c.stamp(a)]:0},removePausedAnim:function(a){var e=
a.node,b=d.data(e,f);b&&(delete b[c.stamp(a)],c.isEmptyObject(b)&&d.removeData(e,f))},savePausedAnim:function(a){var e=a.node,b=d.data(e,f);b||d.data(e,f,b={});b[c.stamp(a)]=a},isAnimRunning:function(a){var e=d.data(a.node,g);return e?!!e[c.stamp(a)]:0},isElPaused:function(a){return(a=d.data(a,f))&&!c.isEmptyObject(a)},isElRunning:function(a){return(a=d.data(a,g))&&!c.isEmptyObject(a)},pauseOrResumeQueue:function(a,e,b){a=d.data(a,"resume"===b?f:g);a=c.merge(a);c.each(a,function(a){if(void 0===e||
a.config.queue===e)a[b]()})},stopEl:function(a,e,b,f){b&&(void 0===f?h.clearQueues(a):!1!==f&&h.clearQueue(a,f));a=d.data(a,g);a=c.merge(a);c.each(a,function(a){(void 0===f||a.config.queue===f)&&a.stop(e)})}}});
KISSY.add("anim/base",["dom","./base/utils","./base/queue","promise"],function(c,i){function h(j){h.superclass.constructor.call(this);a.Defer(this);this.config=j;var b=j.node;c.isPlainObject(b)||(b=d.get(j.node));this.node=this.el=b;this._backupProps={};this._propsData={}}var d=i("dom"),g=i("./base/utils"),f=i("./base/queue"),a=i("promise"),e=d.NodeType,b=c.noop,l={toggle:1,hide:1,show:1};c.extend(h,a,{on:function(a,c){"complete"===a?this.then(c):"end"===a?this.fin(c):"step"===a&&this.progress(c);
return this},prepareFx:b,runInternal:function(){var a=this,b=a.config,f=a.node,h,i=a._backupProps,o=a._propsData,k=b.to,r=b.delay||0,p=b.duration;g.saveRunningAnim(a);c.each(k,function(a,d){c.isPlainObject(a)||(a={value:a});o[d]=c.mix({delay:r,easing:b.easing,frame:b.frame,duration:p},a)});if(f.nodeType===e.ELEMENT_NODE){if(k.width||k.height)k=f.style,c.mix(i,{overflow:k.overflow,"overflow-x":k.overflowX,"overflow-y":k.overflowY}),k.overflow="hidden","inline"===d.css(f,"display")&&"none"===d.css(f,
"float")&&(10>c.UA.ieMode?k.zoom=1:k.display="inline-block");var q,n;n="none"===d.css(f,"display");c.each(o,function(c,b){h=c.value;if(l[h]){if("hide"===h&&n||"show"===h&&!n)return a.stop(!0),q=!1;i[b]=d.style(f,b);"toggle"===h&&(h=n?"show":"hide");"hide"===h?(c.value=0,i.display="none"):(c.value=d.css(f,b),d.css(f,b,0),d.show(f))}});if(!1===q)return}a.startTime=c.now();c.isEmptyObject(o)?(a.__totalTime=1E3*p,a.__waitTimeout=setTimeout(function(){a.stop(!0)},a.__totalTime)):(a.prepareFx(),a.doStart())},
isRunning:function(){return g.isAnimRunning(this)},isPaused:function(){return g.isAnimPaused(this)},pause:function(){this.isRunning()&&(this._runTime=c.now()-this.startTime,this.__totalTime-=this._runTime,g.removeRunningAnim(this),g.savePausedAnim(this),this.__waitTimeout?clearTimeout(this.__waitTimeout):this.doStop());return this},doStop:b,doStart:b,resume:function(){var a=this;a.isPaused()&&(a.startTime=c.now()-a._runTime,g.removePausedAnim(a),g.saveRunningAnim(a),a.__waitTimeout?a.__waitTimeout=
setTimeout(function(){a.stop(!0)},a.__totalTime):(a.beforeResume(),a.doStart()));return a},beforeResume:b,run:function(){var a;a=this.config.queue;!1===a?this.runInternal():(a=f.queue(this.node,a,this),1===a.length&&this.runInternal());return this},stop:function(a){var b=this.node,e=this.config.queue;if(this.isResolved()||this.isRejected())return this;this.__waitTimeout&&(clearTimeout(this.__waitTimeout),this.__waitTimeout=0);if(!this.isRunning()&&!this.isPaused())return!1!==e&&f.remove(b,e,this),
this;this.doStop(a);g.removeRunningAnim(this);g.removePausedAnim(this);var h=this.defer;if(a){var i,a=this.config.complete;c.isEmptyObject(i=this._backupProps)||d.css(this.node,i);a&&a.call(this);h.resolve([this])}else h.reject([this]);!1!==e&&(b=f.dequeue(b,e))&&b[0]&&b[0].runInternal();return this}});h.Utils=g;h.Q=f;return h});
/*
Copyright 2014, KISSY v1.49.10
MIT Licensed
build time: Dec 10 15:04
*/
KISSY.add("promise",[],function(k){function u(a){"undefined"!==typeof console&&console.error&&console.error(a)}function p(a,b,d){if(a instanceof g)q(function(){d.call(a,a[e])});else{var l=a[e],c=a[i];c?c.push([b,d]):m(l)?p(l,b,d):b&&q(function(){b.call(a,l)})}}function f(a){if(!(this instanceof f))return new f(a);this.promise=a||new c;this.promise.defer=this}function m(a){return a&&a instanceof c}function c(a){this[e]=a;void 0===a&&(this[i]=[],this[n]=[])}function g(a){if(a instanceof g)return a;
c.apply(this,arguments);return this}function j(a,b,d){function l(a){try{return b?b.call(this,a):a}catch(d){return u(d.stack||d),new g(d)}}function e(a){try{return d?d.call(this,a):new g(a)}catch(b){return u(b.stack||b),new g(b)}}function o(a){h||a instanceof c||(h=1,r.resolve(l.call(this,a)))}var r=new f,h=0;a instanceof c?p(a,o,function(a){h||(h=1,r.resolve(e.call(this,a)))}):o(a);return r.promise}function s(a){return!t(a)&&m(a)&&void 0===a[i]&&(!m(a[e])||s(a[e]))}function t(a){return m(a)&&void 0===
a[i]&&a[e]instanceof g}var e="__promise_value",q=k.setImmediate,n="__promise_progress_listeners",i="__promise_pendings";f.prototype={constructor:f,resolve:function(a){var b=this.promise,d;if(!(d=b[i]))return null;b[e]=a;d=[].concat(d);b[i]=void 0;b[n]=void 0;k.each(d,function(a){p(b,a[0],a[1])});return a},reject:function(a){return this.resolve(new g(a))},notify:function(a){k.each(this.promise[n],function(b){q(function(){b(a)})})}};c.prototype={constructor:c,then:function(a,b,d){d&&this.progress(d);
return j(this,a,b)},progress:function(a){this[n]&&this[n].push(a);return this},fail:function(a){return j(this,0,a)},fin:function(a){return j(this,function(b){return a(b,!0)},function(b){return a(b,!1)})},done:function(a,b){(a||b?this.then(a,b):this).fail(function(a){setTimeout(function(){throw a;},0)})},isResolved:function(){return s(this)},isRejected:function(){return t(this)}};k.extend(g,c);KISSY.Defer=f;KISSY.Promise=c;c.Defer=f;k.mix(c,{when:j,isPromise:m,isResolved:s,isRejected:t,all:function(a){var b=
a.length;if(!b)return null;for(var d=new f,c=0;c<a.length;c++)(function(c,o){j(c,function(c){a[o]=c;0===--b&&d.resolve(a)},function(a){d.reject(a)})})(a[c],c);return d.promise},async:function(a){return function(){function b(a,b){var h;try{h=e[a](b)}catch(f){return new g(f)}return h.done?h.value:j(h.value,d,c)}function d(a){return b("next",a)}function c(a){return b("throw",a)}var e=a.apply(this,arguments);return d()}}});return c});
/*
Copyright 2014, KISSY v1.49.10
MIT Licensed
build time: Dec 10 14:46
*/
KISSY.add("anim/timer/easing",[],function(){function j(a){return a}function e(a,b,n,f){var d=3*a-3*n+1,c=3*n-6*a,h=3*a,l=3*b-3*f+1,i=3*f-6*b,j=3*b;return function(a){a:{for(var b=a,f,n,k=0;8>k;k++){n=((d*b+c)*b+h)*b-a;if(m(n)<o){a=b;break a}f=(3*d*b+2*c)*b+h;if(m(f)<o)break;b-=n/f}f=1;k=0;for(b=a;f>k;){n=((d*b+c)*b+h)*b-a;if(m(n)<o)break;0<n?f=b:k=b;b=(f+k)/2}a=b}return((l*a+i)*a+j)*a}}var g=Math.PI,h=Math.pow,b=Math.sin,c=parseFloat,l=/^cubic-bezier\(([^,]+),([^,]+),([^,]+),([^,]+)\)$/i,i={swing:function(a){return-Math.cos(a*
g)/2+0.5},easeNone:j,linear:j,easeIn:function(a){return a*a},ease:e(0.25,0.1,0.25,1),"ease-in":e(0.42,0,1,1),"ease-out":e(0,0,0.58,1),"ease-in-out":e(0.42,0,0.58,1),"ease-out-in":e(0,0.42,1,0.58),toFn:function(a){var b;return(b=a.match(l))?e(c(b[1]),c(b[2]),c(b[3]),c(b[4])):i[a]||j},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return 1>(a*=2)?0.5*a*a:0.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*a*a*a},easeBothStrong:function(a){return 1>
(a*=2)?0.5*a*a*a*a:0.5*(2-(a-=2)*a*a*a)},elasticIn:function(a){return 0===a||1===a?a:-(h(2,10*(a-=1))*b(2*(a-0.075)*g/0.3))},elasticOut:function(a){return 0===a||1===a?a:h(2,-10*a)*b(2*(a-0.075)*g/0.3)+1},elasticBoth:function(a){return 0===a||2===(a*=2)?a:1>a?-0.5*h(2,10*(a-=1))*b(2*(a-0.1125)*g/0.45):0.5*h(2,-10*(a-=1))*b(2*(a-0.1125)*g/0.45)+1},backIn:function(a){1===a&&(a-=0.001);return a*a*(2.70158*a-1.70158)},backOut:function(a){return(a-=1)*a*(2.70158*a+1.70158)+1},backBoth:function(a){var b,
n=(b=2.5949095)+1;return 1>(a*=2)?0.5*a*a*(n*a-b):0.5*((a-=2)*a*(n*a+b)+2)},bounceIn:function(a){return 1-i.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceBoth:function(a){return 0.5>a?0.5*i.bounceIn(2*a):0.5*i.bounceOut(2*a-1)+0.5}},o=1.0E-6,m=Math.abs;return i});
KISSY.add("anim/timer/manager",[],function(j){var e=j.stamp,g,h;g=function(b){return setTimeout(b,15)};h=function(b){clearTimeout(b)};return{runnings:{},timer:null,start:function(b){var c=e(b);this.runnings[c]||(this.runnings[c]=b,this.startTimer())},stop:function(b){this.notRun(b)},notRun:function(b){delete this.runnings[e(b)];j.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(b){this.notRun(b)},resume:function(b){this.start(b)},startTimer:function(){var b=this;b.timer||(b.timer=g(function l(){b.runFrames()?
b.stopTimer():b.timer=g(l)}))},stopTimer:function(){var b=this.timer;b&&(h(b),this.timer=0)},runFrames:function(){var b,c,h=this.runnings;for(b in h)h[b].frame();for(b in h){c=0;break}return void 0===c}}});
KISSY.add("anim/timer/fx",["dom"],function(j,e){function g(b){j.mix(this,b);this.pos=0;this.unit=this.unit||""}var h=e("dom");g.prototype={isCustomFx:0,constructor:g,load:function(b){j.mix(this,b);this.pos=0;this.unit=this.unit||""},frame:function(b){if(1!==this.pos){var c=this.anim,g=this.prop,i=c.node,e=this.from,m=this.propData,a=this.to;if(void 0===b)var k=j.now(),b=m.duration,k=k-c.startTime-m.delay,b=0>=k?0:k>=b?1:m.easing(k/b);this.pos=b;e===a||0===b||(this.val=e=this.interpolate(e,a,this.pos),
m.frame?m.frame.call(this,c,this):this.isCustomFx||(void 0===e?(this.pos=1,e=a):e+=this.unit,this.val=e,"attr"===this.type?h.attr(i,g,e,1):h.css(i,g,e)))}},interpolate:function(b,c,h){if("number"===typeof b&&"number"===typeof c)return Math.round(1E5*(b+(c-b)*h))/1E5},cur:function(){var b=this.prop,c,e,g=this.anim.node;if(this.isCustomFx)return g[b]||0;if(!(c=this.type))c=this.type=(!g.style||null==g.style[b])&&null!=h.attr(g,b,void 0,1)?"attr":"css";b="attr"===c?h.attr(g,b,void 0,1):h.css(g,b);return isNaN(e=
parseFloat(b))?!b||"auto"===b?0:b:e}};g.Factories={};g.FxTypes={};g.getFx=function(b){var c=g,h,e;if(h=b.fxType)c=g.FxTypes[h];else if(!b.isCustomFx&&(e=g.Factories[b.prop]))c=e;return new c(b)};return g});
KISSY.add("anim/timer/short-hand",[],function(){return{background:[],border:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],borderBottom:["borderBottomWidth"],borderLeft:["borderLeftWidth"],borderTop:["borderTopWidth"],borderRight:["borderRightWidth"],font:["fontSize","fontWeight"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]}});
KISSY.add("anim/timer/color",["./fx","./short-hand"],function(j,e){function g(b){var b=b+"",f;if(f=b.match(m))return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])];if(f=b.match(a))return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),parseInt(f[4])];if(f=b.match(k)){for(b=1;b<f.length;b++)2>f[b].length&&(f[b]+=f[b]);return[parseInt(f[1],l),parseInt(f[2],l),parseInt(f[3],l)]}return o[b=b.toLowerCase()]?o[b]:[255,255,255]}function h(){h.superclass.constructor.apply(this,arguments)}var b=e("./fx"),c=e("./short-hand"),
l=16,i=Math.floor,o={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},m=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,a=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,k=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i;c.background.push("backgroundColor");
c.borderColor=["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"];c.border.push("borderBottomColor","borderLeftColor","borderRightColor","borderTopColor");c.borderBottom.push("borderBottomColor");c.borderLeft.push("borderLeftColor");c.borderRight.push("borderRightColor");c.borderTop.push("borderTopColor");j.extend(h,b,{load:function(){h.superclass.load.apply(this,arguments);this.from&&(this.from=g(this.from));this.to&&(this.to=g(this.to))},interpolate:function(a,b,d){var k=
h.superclass.interpolate;if(3===a.length&&3===b.length)return"rgb("+[i(k(a[0],b[0],d)),i(k(a[1],b[1],d)),i(k(a[2],b[2],d))].join(", ")+")";if(4===a.length||4===b.length)return"rgba("+[i(k(a[0],b[0],d)),i(k(a[1],b[1],d)),i(k(a[2],b[2],d)),i(k(a[3]||1,b[3]||1,d))].join(", ")+")"}});j.each("backgroundColor,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor,color,outlineColor".split(","),function(a){b.Factories[a]=h});return b.FxTypes.color=h});
KISSY.add("anim/timer/transform",["dom","./fx"],function(j,e){function g(a){a=a.split(/,/);return a=j.map(a,function(a){return b(a)})}function h(){return{translateX:0,translateY:0,rotate:0,skewX:0,skewY:0,scaleX:1,scaleY:1}}function b(a){return Math.round(1E5*parseFloat(a))/1E5}function c(a){for(var a=a.split(")"),k=j.trim,n=-1,f=a.length-1,d,e,c=h();++n<f;)switch(d=a[n].split("("),e=k(d[0]),d=d[1],e){case "translateX":case "translateY":case "scaleX":case "scaleY":c[e]=b(d);break;case "rotate":case "skewX":case "skewY":var i=
b(d);j.endsWith(d,"deg")||(i=180*i/Math.PI);c[e]=i;break;case "translate":case "translate3d":d=d.split(",");c.translateX=b(d[0]);c.translateY=b(d[1]||0);break;case "scale":d=d.split(",");c.scaleX=b(d[0]);c.scaleY=b(d[1]||d[0]);break;case "matrix":return a=d,a=g(a),f=n=k=void 0,e=a[0],c=a[1],d=a[2],i=a[3],e*i-c*d?(k=Math.sqrt(e*e+c*c),f=(e*d+c*i)/(e*i-d*c),n=(e*i-c*d)/k,e*i<c*d&&(f=-f,k=-k)):k=n=f=0,{translateX:b(a[4]),translateY:b(a[5]),rotate:b(180*Math.atan2(c,e)/Math.PI),skewX:b(180*Math.atan(f)/
Math.PI),skewY:0,scaleX:b(k),scaleY:b(n)}}return c}function l(){l.superclass.constructor.apply(this,arguments)}var i=e("dom"),o=e("./fx"),m=j.Features.isTransform3dSupported()?"translate3d({translateX}px,{translateY}px,0)":"translate({translateX}px,{translateY}px)";j.extend(l,o,{load:function(){l.superclass.load.apply(this,arguments);this.from=(this.from=i.style(this.anim.node,"transform")||this.from)&&"none"!==this.from?c(this.from):h();this.to=this.to?c(this.to):h()},interpolate:function(a,b,c){var f=
l.superclass.interpolate,d={};d.translateX=f(a.translateX,b.translateX,c);d.translateY=f(a.translateY,b.translateY,c);d.rotate=f(a.rotate,b.rotate,c);d.skewX=f(a.skewX,b.skewX,c);d.skewY=f(a.skewY,b.skewY,c);d.scaleX=f(a.scaleX,b.scaleX,c);d.scaleY=f(a.scaleY,b.scaleY,c);return j.substitute(m+" rotate({rotate}deg) skewX({skewX}deg) skewY({skewY}deg) scale({scaleX},{scaleY})",d)}});return o.Factories.transform=l});
KISSY.add("anim/timer","dom,./base,./timer/easing,./timer/manager,./timer/fx,./timer/short-hand,./timer/color,./timer/transform".split(","),function(j,e){function g(){var a;g.superclass.constructor.apply(this,arguments);j.each(a=this.to,function(b,c){var d=m(c);if(c!==d){a[d]=a[c];delete a[c]}})}var h=e("dom"),b=e("./base"),c=e("./timer/easing"),l=e("./timer/manager"),i=e("./timer/fx"),o=e("./timer/short-hand");e("./timer/color");e("./timer/transform");var m=h._camelCase,a=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;
j.extend(g,b,{prepareFx:function(){var b=this.node,e=this._propsData;j.each(e,function(a){a.duration=a.duration*1E3;a.delay=a.delay*1E3;if(typeof a.easing==="string")a.easing=c.toFn(a.easing)});j.each(o,function(a,c){var d,f=e[c],g;if(f){g=f.value;d={};j.each(a,function(a){d[a]=h.css(b,a)});h.css(b,c,g);j.each(d,function(a,c){c in e||(e[c]=j.merge(f,{value:h.css(b,c)}));h.css(b,c,a)});delete e[c]}});var f,d,g,l,m,p,r,u=0,q;j.isPlainObject(b)&&(u=1);for(f in e){d=e[f];g=d.value;p={isCustomFx:u,prop:f,
anim:this,fxType:d.fxType,type:d.type,propData:d};r=i.getFx(p);l=g;m=r.cur();g=g+"";q="";if(g=g.match(a)){l=parseFloat(g[2]);if((q=g[3])&&q!=="px"&&m){var s=0,t=l;do{++t;h.css(b,f,t+q);s=r.cur()}while(s===0);m=t/s*m;h.css(b,f,m+q)}g[1]&&(l=(g[1]==="-="?-1:1)*l+m)}p.from=m;p.to=l;p.unit=q;r.load(p);d.fx=r}},frame:function(){var a,b=1,c,d=this._propsData;for(a in d){c=d[a];c=c.fx;c.frame();if(this.isRejected()||this.isResolved())return;b=b&c.pos===1}d=j.now();a=this.config.duration*1E3;d=Math.max(0,
this.startTime+a-d);this.defer.notify([this,1-(d/a||0),d]);b&&this.stop(b)},doStop:function(a){var b,c=this._propsData;l.stop(this);if(a)for(b in c){a=c[b];(a=a.fx)&&a.frame(1)}},doStart:function(){l.start(this)}});g.Easing=c;g.Fx=i;return g});
/*
Copyright 2014, KISSY v1.49.10
MIT Licensed
build time: Dec 10 14:46
*/
KISSY.add("anim/transition",["dom","./base"],function(k,n,x,q){function r(a,c){return c.toUpperCase()}function o(a){-1!==a.indexOf("-")&&(a=a.replace(s,r));if(a in g)return g[a];if(!m||a in m)g[a]={propertyName:a,propertyNamePrefix:""};else{for(var c=a.charAt(0).toUpperCase()+a.slice(1),d,b=0;b<t;b++){var e=p[b];d=e+c;d in m&&(g[a]={propertyName:d,propertyNamePrefix:e})}g[a]=g[a]||null}return g[a]}function u(a){var c="";h.each(a,function(a,b){c&&(c+=",");c+=b+" "+a.duration+"s "+a.easing+" "+a.delay+
"s"});return c}function v(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}function i(a,c,d,b,e){if(!(this instanceof i))return new i(a,c,d,b,e);i.superclass.constructor.apply(this,arguments)}var s=/-([a-z])/ig,p=["Webkit","Moz","O","ms"],t=p.length,g={},m=document.documentElement.style,h=k,j=n("dom"),k=n("./base"),l=o("transition").propertyName,w={ease:1,linear:1,"ease-in":1,"ease-out":1,"ease-in-out":1};h.extend(i,k,{prepareFx:function(){var a=this._propsData,c={},d,b;for(b in a)d=
a[b],"string"===typeof d.easing?!h.startsWith(d.easing,"cubic-bezier")&&!w[d.easing]&&(d.easing="linear"):d.easing="linear",(d=o(b))&&(c[v(d.propertyName)]=a[b]);this._propsData=c},doStart:function(){var a=this,c=a.node,d=c.style,b=a._propsData,e=d[l],f=0,g={};h.each(b,function(a,b){var d=a.value;j.css(c,b,j.css(c,b));g[b]=d;f=Math.max(a.duration+a.delay,f)});-1!==e.indexOf("none")?e="":e&&(e+=",");d[l]=e+u(b);setTimeout(function(){j.css(c,g)},0);a._transitionEndTimer=setTimeout(function(){a.stop(!0)},
1E3*f)},beforeResume:function(){var a=this._propsData,c=h.merge(a),d=this._runTime/1E3;h.each(c,function(b,c){var f=d;b.delay>=f?b.delay-=f:(f-=b.delay,b.delay=0,b.duration>=f?b.duration-=f:delete a[c])})},doStop:function(a){var c=this.node,d=c.style,b=this._propsData,e=[],f={};this._transitionEndTimer&&(clearTimeout(this._transitionEndTimer),this._transitionEndTimer=null);h.each(b,function(b,d){a||(f[d]=j.css(c,d));e.push(d)});b=h.trim(d[l].replace(RegExp("(^|,)\\s*(?:"+e.join("|")+")\\s+[^,]+",
"gi"),"$1")).replace(/^,|,,|,$/g,"")||"none";d[l]=b;j.css(c,f)}});h.mix(i,k.Statics);q.exports=i});
/*
Copyright 2014, KISSY v1.49.10
MIT Licensed
build time: Dec 10 15:03
*/
KISSY.add("io/form-serializer",["dom"],function(d,f){function i(a){return a.replace(h,"\r\n")}var k=f("dom"),g=/^(?:select|textarea)/i,h=/\r?\n/g,a,c=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i;return a={serialize:function(c,e){return d.param(a.getFormData(c),void 0,void 0,e||!1)},getFormData:function(a){var e=[],m={};d.each(k.query(a),function(l){l=l.elements?d.makeArray(l.elements):[l];e.push.apply(e,l)});e=d.filter(e,function(l){return l.name&&
!l.disabled&&(l.checked||g.test(l.nodeName)||c.test(l.type))});d.each(e,function(l){var a=k.val(l),b;null!==a&&(a=d.isArray(a)?d.map(a,i):i(a),b=m[l.name],void 0===b?m[l.name]=a:(d.isArray(b)||(b=m[l.name]=[b]),b.push.apply(b,d.makeArray(a))))});return m}}});
KISSY.add("io/base",["event/custom","promise"],function(d,f){function i(b){var a=b.context;delete b.context;b=d.mix(d.clone(n),b,{deep:!0});b.context=a||b;var l,j=b.type,g=b.dataType,a=b.uri=m.resolve(b.url);b.uri.setQuery("");"crossDomain"in b||(b.crossDomain=!b.uri.isSameOriginAs(m));j=b.type=j.toUpperCase();b.hasContent=!e.test(j);if(b.processData&&(l=b.data)&&"string"!==typeof l)b.data=d.param(l,void 0,void 0,b.serializeArray);g=b.dataType=d.trim(g||"*").split(c);!("cache"in b)&&d.inArray(g[0],
["script","jsonp"])&&(b.cache=!1);b.hasContent||(b.data&&a.query.add(d.unparam(b.data)),!1===b.cache&&a.query.set("_ksTS",d.now()+"_"+d.guid()));return b}function k(b){var a=this;if(!(a instanceof k))return new k(b);h.call(a);b=i(b);d.mix(a,{responseData:null,config:b||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null});h.Defer(a);var c;k.fire("start",{ajaxConfig:b,io:a});
c=new (l[b.dataType[0]]||l["*"])(a);a.transport=c;b.contentType&&a.setRequestHeader("Content-Type",b.contentType);var n=b.dataType[0],e,j=b.timeout,g=b.context,m=b.headers,f=b.accepts;a.setRequestHeader("Accept",n&&f[n]?f[n]+("*"===n?"":", */*; q=0.01"):f["*"]);for(e in m)a.setRequestHeader(e,m[e]);if(b.beforeSend&&!1===b.beforeSend.call(g,a,b))return a;a.readyState=1;k.fire("send",{ajaxConfig:b,io:a});b.async&&0<j&&(a.timeoutTimer=setTimeout(function(){a.abort("timeout")},1E3*j));try{a.state=1,c.send()}catch(q){2>
a.state&&a._ioReady(-1,q.message||"send error")}return a}var g=f("event/custom"),h=f("promise"),a=/^(?:about|app|app\-storage|.+\-extension|file|widget)$/,c=/\s+/,j=function(b){return b},e=/^(?:GET|HEAD)$/,m=new d.Uri((d.Env.host.location||{}).href),a=m&&a.test(m.getScheme()),l={},n={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:!0,serializeArray:!0,processData:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",
"*":"*/*"},converters:{text:{json:d.parseJson,html:j,text:j,xml:d.parseXML}},headers:{"X-Requested-With":"XMLHttpRequest"},contents:{xml:/xml/,html:/html/,json:/json/}};n.converters.html=n.converters.text;d.mix(k,g.Target);d.mix(k,{isLocal:a,setupConfig:function(b){d.mix(n,b,{deep:!0})},setupTransport:function(b,a){l[b]=a},getTransport:function(b){return l[b]},getConfig:function(){return n}});return k});
KISSY.add("io/xhr-transport-base",["./base"],function(d,f){function i(a,n){try{return new (n||h).XMLHttpRequest}catch(b){}}function k(a){var n;a.ifModified&&(n=a.uri,!1===a.cache&&(n=n.clone(),n.query.remove("_ksTS")),n=n.toString());return n}var g=f("./base"),h=d.Env.host,a=7<d.UA.ieMode&&h.XDomainRequest,c={proto:{}},j={},e={};g.__lastModifiedCached=j;g.__eTagCached=e;c.nativeXhr=h.ActiveXObject?function(l,n){var b;if(!m&&l&&a)b=new a;else if(!(b=!g.isLocal&&i(l,n)))a:{try{b=new (n||h).ActiveXObject("Microsoft.XMLHTTP");
break a}catch(c){}b=void 0}return b}:i;c.XDomainRequest_=a;var m=c.supportCORS="withCredentials"in c.nativeXhr();d.mix(c.proto,{sendInternal:function(){var l=this,c=l.io,b=c.config,o=l.nativeXhr,g=b.files,h=g?"post":b.type,f=b.async,i,t=c.mimeType,p=c.requestHeaders||{},c=c._getUrlForSend(),u=k(b),q,v;if(u){if(q=j[u])p["If-Modified-Since"]=q;if(q=e[u])p["If-None-Match"]=q}(i=b.username)?o.open(h,c,f,i,b.password):o.open(h,c,f);h=b.xhrFields||{};"withCredentials"in h&&(m||delete h.withCredentials);
for(v in h)try{o[v]=h[v]}catch(x){}t&&o.overrideMimeType&&o.overrideMimeType(t);!1===p["X-Requested-With"]&&delete p["X-Requested-With"];if("undefined"!==typeof o.setRequestHeader)for(v in p)o.setRequestHeader(v,p[v]);var w=b.hasContent&&b.data||null;g&&(t=w,p={},t&&(p=d.unparam(t)),p=d.mix(p,g),w=new FormData,d.each(p,function(a,l){d.isArray(a)?d.each(a,function(a){w.append(l+(b.serializeArray?"[]":""),a)}):w.append(l,a)}));o.send(w);!f||4===o.readyState?l._callback():a&&o instanceof a?(o.onload=
function(){o.readyState=4;o.status=200;l._callback()},o.onerror=function(){o.readyState=4;o.status=500;l._callback()}):o.onreadystatechange=function(){l._callback()}},abort:function(){this._callback(0,1)},_callback:function(l,c){var b=this.nativeXhr,o=this.io,m,h,f,i,t,p=o.config;try{if(c||4===b.readyState)if(a&&b instanceof a?(b.onerror=d.noop,b.onload=d.noop):b.onreadystatechange=d.noop,c)4!==b.readyState&&b.abort();else{m=k(p);var u=b.status;a&&b instanceof a||(o.responseHeadersString=b.getAllResponseHeaders());
m&&(h=b.getResponseHeader("Last-Modified"),f=b.getResponseHeader("ETag"),h&&(j[m]=h),f&&(e[f]=f));if((t=b.responseXML)&&t.documentElement)o.responseXML=t;var q=o.responseText=b.responseText;if(p.files&&q){var v,x;if(-1!==(v=q.indexOf("<body>")))x=q.lastIndexOf("</body>"),-1===x&&(x=q.length),q=q.slice(v+6,x);o.responseText=d.unEscapeHtml(q)}try{i=b.statusText}catch(w){i=""}!u&&g.isLocal&&!p.crossDomain?u=o.responseText?200:404:1223===u&&(u=204);o._ioReady(u,i)}}catch(A){b.onreadystatechange=d.noop,
c||o._ioReady(-1,A.message||"process error")}}});return c});
KISSY.add("io/xdr-flash-transport",["./base","dom"],function(d,f){function i(a,d,b){m||(m=!0,a='<object id="'+c+'" type="application/x-shockwave-flash" data="'+a+'" width="0" height="0"><param name="movie" value="'+a+'" /><param name="FlashVars" value="yid='+d+"&uid="+b+'&host=KISSY.IO" /><param name="allowScriptAccess" value="always" /></object>',d=e.createElement("div"),h.prepend(d,e.body||e.documentElement),d.innerHTML=a)}function k(a){this.io=a}var g=f("./base"),h=f("dom"),a={},c="io_swf",j,e=
d.Env.host.document,m=!1;d.augment(k,{send:function(){var c=this,e=c.io,b=e.config;i((b.xdr||{}).src||d.Config.base+"io/assets/io.swf",1,1);j?(c._uid=d.guid(),a[c._uid]=c,j.send(e._getUrlForSend(),{id:c._uid,uid:c._uid,method:b.type,data:b.hasContent&&b.data||{}})):setTimeout(function(){c.send()},200)},abort:function(){j.abort(this._uid)},_xdrResponse:function(c,d){var b,e=d.id,m,j=d.c,g=this.io;if(j&&(m=j.responseText))g.responseText=decodeURI(m);switch(c){case "success":b={status:200,statusText:"success"};
delete a[e];break;case "abort":delete a[e];break;case "timeout":case "transport error":case "failure":delete a[e],b={status:"status"in j?j.status:500,statusText:j.statusText||c}}b&&g._ioReady(b.status,b.statusText)}});g.applyTo=function(a,c,b){var a=c.split(".").slice(1),e=g;d.each(a,function(a){e=e[a]});e.apply(null,b)};g.xdrReady=function(){j=e.getElementById(c)};g.xdrResponse=function(c,d){var b=a[d.uid];b&&b._xdrResponse(c,d)};return k});
KISSY.add("io/sub-domain-transport",["event/dom","dom","./xhr-transport-base"],function(d,f){function i(a){var c=a.config;this.io=a;c.crossDomain=!1}function k(){var a=this.io.config.uri.getHostname(),a=j[a];a.ready=1;g.detach(a.iframe,"load",k,this);this.send()}var g=f("event/dom"),h=f("dom"),a=f("./xhr-transport-base"),c=d.Env.host.document,j={};d.augment(i,a.proto,{send:function(){var e=this.io.config,m=e.uri,l=m.getHostname(),n;n=j[l];var b="/sub_domain_proxy.html";e.xdr&&e.xdr.subDomain&&e.xdr.subDomain.proxy&&
(b=e.xdr.subDomain.proxy);n&&n.ready?(this.nativeXhr=a.nativeXhr(0,n.iframe.contentWindow))&&this.sendInternal():(n?e=n.iframe:(n=j[l]={},e=n.iframe=c.createElement("iframe"),h.css(e,{position:"absolute",left:"-9999px",top:"-9999px"}),h.prepend(e,c.body||c.documentElement),n=new d.Uri,n.setScheme(m.getScheme()),n.setPort(m.getPort()),n.setHostname(l),n.setPath(b),e.src=n.toString()),g.on(e,"load",k,this))}});return i});
KISSY.add("io/xhr-transport",["./base","./xhr-transport-base","./xdr-flash-transport","./sub-domain-transport"],function(d,f){function i(e){var m=e.config,l=m.crossDomain,n=m.xdr||{},b=n.subDomain=n.subDomain||{};this.io=e;if(l&&!g.supportCORS){m=m.uri.getHostname();if(c.domain&&d.endsWith(m,c.domain)&&!1!==b.proxy)return new a(e);if("flash"===""+n.use||!j)return new h(e)}this.nativeXhr=g.nativeXhr(l);return this}var k=f("./base"),g=f("./xhr-transport-base"),h=f("./xdr-flash-transport"),a=f("./sub-domain-transport"),
c=d.Env.host.document,j=g.XDomainRequest_;d.augment(i,g.proto,{send:function(){this.sendInternal()}});k.setupTransport("*",i);return k});
KISSY.add("io/script-transport",["./base"],function(d,f){function i(d){if(!d.config.crossDomain)return new (k.getTransport("*"))(d);this.io=d;return this}var k=f("./base");k.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(g){d.globalEval(g);return g}}}});d.augment(i,{send:function(){var g=this,h=g.io,a=h.config;g.script=d.getScript(h._getUrlForSend(),
{charset:a.scriptCharset,success:function(){g._callback("success")},error:function(){g._callback("error")}})},_callback:function(d,h){var a=this.io;this.script&&(this.script=void 0,h||("error"!==d?a._ioReady(200,"success"):"error"===d&&a._ioReady(500,"script error")))},abort:function(){this._callback(0,1)}});k.setupTransport("script",i);return k});
KISSY.add("io/jsonp",["./base"],function(d,f){var i=f("./base"),k=d.Env.host;i.setupConfig({jsonp:"callback",jsonpCallback:function(){return d.guid("jsonp")}});i.on("start",function(g){var h=g.io,a=h.config,g=a.dataType;if("jsonp"===g[0]){delete a.contentType;var c,j=a.jsonpCallback,e="function"===typeof j?j():j,m=k[e];a.uri.query.set(a.jsonp,e);k[e]=function(a){1<arguments.length&&(a=d.makeArray(arguments));c=[a]};h.fin(function(){k[e]=m;if(void 0===m)try{delete k[e]}catch(a){}else c&&m(c[0])});
h=a.converters;h.script=h.script||{};h.script.json=function(){if(!c)throw Error("not call jsonpCallback: "+e);return c[0]};g.length=2;g[0]="script";g[1]="json"}});return i});
KISSY.add("io/form",["./base","dom","./form-serializer"],function(d,f){var i=f("./base"),k=f("dom"),g=f("./form-serializer"),h=Array.prototype.slice,a=d.Env.host.FormData;i.on("start",function(c){var j,e,c=c.io.config;if(e=c.form){j=k.get(e);e=c.data;for(var m=!1,l={},n=k.query("input",j),b=0,o=n.length;b<o;b++){var f=n[b];if("file"===f.type.toLowerCase()){m=!0;if(!a)break;var i=h.call(f.files,0);l[k.attr(f,"name")]=1<i.length?i:i[0]||null}}m&&a&&(c.files=c.files||{},d.mix(c.files,l),delete c.contentType);
!m||a?(j=g.getFormData(j),c.hasContent?(j=d.param(j,void 0,void 0,c.serializeArray),c.data=e?c.data+("&"+j):j):c.uri.query.add(j)):(e=c.dataType,c=e[0],"*"===c&&(c="text"),e.length=2,e[0]="iframe",e[1]=c)}});return i});
KISSY.add("io/iframe-transport",["dom","./base","event/dom"],function(d,f){function i(a){var c=d.guid("io-iframe"),e=h.getEmptyIframeSrc(),a=a.iframe=h.create("<iframe "+(e?' src="'+e+'" ':"")+' id="'+c+'" name="'+c+'" style="position:absolute;left:-9999px;top:-9999px;"/>');h.prepend(a,j.body||j.documentElement);return a}function k(a,c,e){var b=[],g,f,i,k;d.each(a,function(a,m){g=d.isArray(a);f=d.makeArray(a);for(i=0;i<f.length;i++)k=j.createElement("input"),k.type="hidden",k.name=m+(g&&e?"[]":""),
k.value=f[i],h.append(k,c),b.push(k)});return b}function g(a){this.io=a}var h=f("dom"),a=f("./base"),c=f("event/dom"),j=d.Env.host.document,e=d.clone(a.getConfig().converters.text);e.json=function(a){return d.parseJson(d.unEscapeHtml(a))};a.setupConfig({converters:{iframe:e,text:{iframe:function(a){return a}},xml:{iframe:function(a){return a}}}});d.augment(g,{send:function(){function a(){c.on(f,"load error",e._callback,e);s.submit()}var e=this,j=e.io,b=j.config,g,f,r,z=b.data,s=h.get(b.form);e.attrs=
{target:h.attr(s,"target")||"",action:h.attr(s,"action")||"",encoding:h.attr(s,"encoding"),enctype:h.attr(s,"enctype"),method:h.attr(s,"method")};e.form=s;f=i(j);h.attr(s,{target:f.id,action:j._getUrlForSend(),method:"post",enctype:"multipart/form-data",encoding:"multipart/form-data"});z&&(r=d.unparam(z));r&&(g=k(r,s,b.serializeArray));e.fields=g;6===d.UA.ie?setTimeout(a,0):a()},_callback:function(a){var e=this,j=e.form,b=e.io,a=a.type,g,f=b.iframe;if(f)if("abort"===a&&6===d.UA.ie?setTimeout(function(){h.attr(j,
e.attrs)},0):h.attr(j,e.attrs),h.remove(this.fields),c.detach(f),setTimeout(function(){h.remove(f)},30),b.iframe=null,"load"===a)try{if((g=f.contentWindow.document)&&g.body)b.responseText=h.html(g.body),d.startsWith(b.responseText,"<?xml")&&(b.responseText=void 0);b.responseXML=g&&g.XMLDocument?g.XMLDocument:g;g?b._ioReady(200,"success"):b._ioReady(500,"parser error")}catch(i){b._ioReady(500,"parser error")}else"error"===a&&b._ioReady(500,"error")},abort:function(){this._callback({type:"abort"})}});
a.setupTransport("iframe",g);return a});
KISSY.add("io/methods",["promise","./base"],function(d,f){function i(a){var c=a.responseText,j=a.responseXML,e=a.config,g=e.converters,f,h,b=e.contents,i=e.dataType;if(c||j){for(e=a.mimeType||a.getResponseHeader("Content-Type");"*"===i[0];)i.shift();if(!i.length)for(f in b)if(b[f].test(e)){i[0]!==f&&i.unshift(f);break}i[0]=i[0]||"text";for(f=0;f<i.length;f++)if("text"===i[f]&&void 0!==c){h=c;break}else if("xml"===i[f]&&void 0!==j){h=j;break}if(!h){var k={text:c,xml:j};d.each(["text","xml"],function(a){var b=
i[0];if(g[a]&&g[a][b]&&k[a])return i.unshift(a),h="text"===a?c:j,!1})}}b=i[0];for(e=1;e<i.length;e++){f=i[e];var r=g[b]&&g[b][f];if(!r)throw Error("no covert for "+b+" => "+f);h=r(h);b=f}a.responseData=h}var k=f("promise"),g=f("./base"),h=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;d.extend(g,k,{setRequestHeader:function(a,c){this.requestHeaders[a]=c;return this},getAllResponseHeaders:function(){return 2===this.state?this.responseHeadersString:null},getResponseHeader:function(a){var c,d,a=a.toLowerCase();if(2===
this.state){if(!(d=this.responseHeaders))for(d=this.responseHeaders={};c=h.exec(this.responseHeadersString);)d[c[1].toLowerCase()]=c[2];c=d[a]}return void 0===c?null:c},overrideMimeType:function(a){this.state||(this.mimeType=a);return this},abort:function(a){a=a||"abort";this.transport&&this.transport.abort(a);this._ioReady(0,a);return this},getNativeXhr:function(){var a=this.transport;return a?a.nativeXhr:null},_ioReady:function(a,c){if(2!==this.state){this.state=2;this.readyState=4;var d;if(200<=
a&&300>a||304===a)if(304===a)c="not modified",d=!0;else try{i(this),c="success",d=!0}catch(e){c=e.message||"parser error"}else 0>a&&(a=0);this.status=a;this.statusText=c;var f=this.defer,h=this.config,k;if(k=this.timeoutTimer)clearTimeout(k),this.timeoutTimer=0;k=d?"success":"error";var b,o=[this.responseData,c,this],y=h.context,r={ajaxConfig:h,io:this};(b=h[k])&&b.apply(y,o);(b=h.complete)&&b.apply(y,o);g.fire(k,r);g.fire("complete",r);f[d?"resolve":"reject"](o)}},_getUrlForSend:function(){var a=
this.config,c=a.uri,f=d.Uri.getComponents(a.url).query||"";return c.toString.call(c,a.serializeArray)+(f?(c.query.has()?"&":"?")+f:f)}})});
KISSY.add("io","io/form-serializer,io/base,io/xhr-transport,io/script-transport,io/jsonp,io/form,io/iframe-transport,io/methods".split(","),function(d,f){function i(d,a,c,f,e){if(typeof a==="function"){f=c;c=a;a=void 0}return g({type:e||"get",url:d,data:a,success:c,dataType:f})}var k=f("io/form-serializer"),g=f("io/base");f("io/xhr-transport");f("io/script-transport");f("io/jsonp");f("io/form");f("io/iframe-transport");f("io/methods");d.mix(g,{serialize:k.serialize,get:i,post:function(d,a,c,f){if(typeof a===
"function"){f=c;c=a;a=void 0}return i(d,a,c,f,"post")},jsonp:function(d,a,c){if(typeof a==="function"){c=a;a=void 0}return i(d,a,c,"jsonp")},getScript:d.getScript,getJSON:function(d,a,c){if(typeof a==="function"){c=a;a=void 0}return i(d,a,c,"json")},upload:function(d,a,c,f,e){if(typeof c==="function"){e=f;f=c;c=void 0}return g({url:d,type:"post",dataType:e,form:a,data:c,success:f})}});d.mix(d,{Ajax:g,IO:g,ajax:g,io:g,jsonp:g.jsonp});return g});
KISSY.add("mui/storage/index",function(e,t,n,r,o,a){var i={};var c=0;var s=function(t){var n=this;t=t||{};t.token=+new Date+o.getRndStr(8);var a=t.proxy||r.PROXY;switch(a){case"tmall":a=r.PROXY_TMALL;break;case"taobao":a=r.PROXY_TAOBAO;break;case"common":a=r.PROXY;break}a=o.fm("{0}{1}{2}={3}",a,a.indexOf("?")>-1?"&":"?",r.XD_TOKEN,t.token);t.proxy=a;t.prefix=t.prefix||"";n._opt=e.merge(i,t);n.init()};e.augment(s,{init:function(){var t=this;t.setConf(r.K.CALLBACK_LIST,{});t.setConf(r.K.CACHED_ACTION_LIST,[]);t.setConf(r.K.PROXY_READY,false);var n=t.getConf(r.K.CALLBACK_LIST);var i=t.getConf(r.K.CACHED_ACTION_LIST);var s=document.createElement("iframe");var u=s.style;u.display="none";var f=-1;function d(u){var f=new a({target:s.contentWindow,token:t.getConf(r.K.TOKEN),iframeTimeout:u,timeout:t.getConf(r.K.XD_TIMEOUT),receive:function(e){var t=n[e.c];if(t){t(e.v);try{delete n[e.c]}catch(r){}}}});t.setConf(r.K.XD,f);function d(){t.setConf(r.K.PROXY_READY,true);e.each(i,function(e){f.send(e,"*")});t.setConf(r.K.CACHED_ACTION_LIST,[]);var n=t.getConf(r.K.ONLOAD);n&&n()}if(u){d()}else{if(window.postMessage){var m=false;var l=0;var _=setInterval(function(){++l;o.log(l,m);if(m||l>30){clearInterval(_);d();return}var e="token"+ ++c;n[e]=function(e){m=!!e};f.send({m:"connect",c:e},"*",true)},50)}else{setTimeout(d,600)}}}f=setTimeout(function(){f=0;d(true)},t.getConf(r.K.IFRAME_TIMEOUT)||r.TIMEOUT_STORAGE);function m(e){o.log("storage proxy loaded");clearTimeout(f);if(!f){return}d(false)}if(s.attachEvent){s.attachEvent("onload",m)}else{s.onload=m}s.src=t.getConf(r.K.PROXY);document.body.appendChild(s)},send:function(t){var n=this;var o=n.getConf(r.K.CALLBACK_LIST);var a=n.getConf(r.K.CACHED_ACTION_LIST);var i=n.getConf(r.K.PROXY_READY);var s=n.getConf(r.K.PREFIX);t.p=s;if(e.isFunction(t.success)){var u="token"+ ++c;t.c=u;o[u]=t.success;try{delete t.success}catch(f){}}if(!i){a.push(t);return}var d=n.getConf(r.K.XD);d&&d.send(t)},get:function(e){e=e||{};e.m="get";this.send(e);Math.random()<r.SAM_PV&&o.sendLog(r.ARR.ST_GET)},set:function(e){e=e||{};e.m="set";this.send(e);Math.random()<r.SAM_PV&&o.sendLog(r.ARR.ST_SET)},remove:function(e){e=e||{};e.m="remove";this.send(e);Math.random()<r.SAM_PV&&o.sendLog(r.ARR.ST_RM)},clear:function(e){e=e||{};e.m="clear";this.send(e);Math.random()<r.SAM_PV&&o.sendLog(r.ARR.ST_CL)},getConf:function(e){return this._opt[e]},setConf:function(e,t){this._opt[e]=t}});return s},{requires:["event","json","mui/storage/conf","mui/storage/util","mui/storage/xd"]});KISSY.add("mui/storage/conf",function(){var e=location.href.indexOf("if-debug=1")>-1;var t=location.href.indexOf("if-debug-log=1")>-1;var r="//gm.mmstat.com";var n="//log.mmstat.com/ued.1.1.2?type=9&_gm:id=storage&v=1.1";var a={DEBUG:e,DEBUG_LOG:t,SAM_PV:1/1e3,TIMEOUT_STORAGE:3*1e3,PROXY:e?"//tmsprepub.alicdn.com/wow/tmbase/act/storage-proxy-3-0-4":"//www.tmall.com/wow/tmbase/act/storage-proxy-3-0-4",PROXY_TMALL:e?"//tmsprepub.alicdn.com/go/act/stp-tm-1_1_0.php":"//www.tmall.com/go/act/stp-tm-1_1_0.php",PROXY_TAOBAO:e?"//tmsprepub.alicdn.com/go/act/stp-tb-1_1_0.php":"//www.tmall.com/go/act/stp-tb-1_1_0.php",XD_TOKEN:"__mui_xd_token",UID_FROM:"__mui_xd_from",UID_TO:"__mui_xd_to",M:{G:n+"&t=g",P:n+"&t=p"},ARR:{ST_SET:r+"/tmallbrand.999.5",ST_GET:r+"/tmallbrand.999.6",ST_RM:r+"/tmallbrand.999.7",ST_CL:r+"/tmallbrand.999.8",ST_TMO:r+"/tmallbrand.999.10"},K:{ONLOAD:"onload",PROXY:"proxy",PREFIX:"prefix",XD_TIMEOUT:"xdTimeout",IFRAME_TIMEOUT:"iframeTimeout",IFRAME:"iframe",TOKEN:"token",XD:"xd",CALLBACK_LIST:"callbackList",CACHED_ACTION_LIST:"cachedActionList",PROXY_READY:"proxyReady"}};return a});KISSY.add("mui/storage/util",function(e,t){var n={log:function(){if(!t.DEBUG_LOG){return}if(window.console&&window.console.log&&window.console.log.apply){window.console.log.apply(window.console,arguments)}},fm:function(){if(arguments.length==0){return""}else if(arguments.length==1){return arguments[0]}var e=arguments[0],t;for(t=1;t<arguments.length;++t){var n=new RegExp("\\{"+(t-1)+"\\}","g");e=e.replace(n,arguments[t])}return e}};var r=n;r.sendLog=function(e){r.send(r.fm(t.M.G,encodeURIComponent(location.href)));r.send(e)};r.send=function(e){if(!e){return}var t="__st_"+ +new Date+Math.random();var n=new Image;window[t]=n;n.src=r.fm("{0}{1}r{2}=1",e,e.indexOf("?")>-1?"&":"?",+new Date);n.onload=function(){window[t]=null}};var o="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";r.getRndStr=function(e){var t=[];var n=o.length,r;for(var a=0;a<e;++a){r=o.charAt(Math.floor(Math.random()*n));t.push(r)}return t.join("")};return r},{requires:["mui/storage/conf"]});KISSY.add("mui/storage/xd",function(e,t,n,r,a,o){var i=0;var s=document.domain;var u="receive";var c="token";var f="target";var m="timeout";var d="iframeTimeout";var v=10;var l=10;var g=3*1e3;var _="_name_store_";var p=window;var h=p.postMessage;var O={};var T=[];function w(){if(h){if(p.addEventListener){addEventListener("message",A,false)}else if(p.attachEvent){attachEvent("onmessage",A)}}else{I.onMessage(A)}}var I={uid:0,hid:-1,q:[],tm:0,postMessage:function(e,t,n){var r=++I.uid;var a=I.q;var i={name:+new Date+""+r+"^"+s+"&"+t,uid:r,target:e};a.push(i);if(!I.tm){I.tm=setInterval(function(){var e=I.q;if(e.length===0||e[0].uid===I.hid){return}var t=e[0];I.hid=t.uid;o.setItem(_,name)},l)}},onMessage:function(e){var t="";var n=/^(\d+?)\^(.+?)&(.*?)$/;function r(){var r=o.getItem(_);if(r!==t){I.q.shift();t=r;var a=n.exec(r);if(!a){return}var i={origin:a[2],data:a[3]};e&&e(i)}}setInterval(r,v)}};function A(t){var a={};try{a=n.parse(t.data)}catch(o){return}var i=a[r.XD_TOKEN];e.each(T,function(e){if(i===e.get(c)&&r.UID_FROM in a&&r.UID_TO in a){var t=a[r.UID_TO];if(t){var n=O[t];clearTimeout(n);O[t]=0;if(!n){return}}e.get(u)(a)}})}w();function E(e){var t=this;t._opt=e;T.push(t)}e.augment(E,{send:function(t,o,u){if(!e.isObject(t)){return}var v=this;var l=v.get(f);var _=v.get(m)||g;var p=++i;o=o||"*";t[r.XD_TOKEN]=v.get(c);t[r.UID_TO]=t[r.UID_FROM]||0;t[r.UID_FROM]=u?0:p;var T=n.stringify(t);function w(){h&&I.q.shift();var e={};e.origin="*";var a={};a.c=t.c||"";a[r.XD_TOKEN]=t[r.XD_TOKEN]||"";a[r.UID_FROM]=0;a[r.UID_TO]=0;e.data=n.stringify(a);A(e)}if(!u){O[p]=setTimeout(function(){a.log(s,"timeout",p);O[p]=0;w();Math.random()<r.SAM_PV&&a.sendLog(r.ARR.ST_TMO)},_)}if(v.get(d)){w()}else{if(h){l.postMessage(T,o)}else{I.postMessage(l,T,o)}}},get:function(e){return this._opt[e]},set:function(e,t){this._opt[e]=t}});return E},{requires:["event","json","mui/storage/conf","mui/storage/util","mui/storage/name"]});KISSY.add("mui/storage/name",function(e){var t=window;var n="nameStorage:";var r=/^([^=]+)(?:=(.*))?$/;var o="?";var a="=";var i="&";var c=encodeURIComponent;var u=decodeURIComponent;var f={};var s;var d={};var l={};(function _(e){if(e&&e.indexOf(n)===0){var t=e.split(/[:?]/);t.shift();s=u(t.shift())||"";var o=t.join("");var a=o.split(i);for(var c=0,d,l,m,v=a.length;c<v;c++){d=a[c].match(r);if(!d||!d[1]){continue}l=u(d[1]);m=u(d[2])||"";f[l]=m}}else{s=e||""}})(t.name);l.setItem=function(e,t){if(!e||"undefined"===typeof t){return}f[e]=String(t);m()};l.getItem=function(e){return f.hasOwnProperty(e)?f[e]:null};l.removeItem=function(e){if(!f.hasOwnProperty(e)){return}f[e]=null;delete f[e];m()};l.clear=function(){f={};m()};l.valueOf=function(){return f};l.toString=function(){var e=t.name;return e.indexOf(n)===0?e:n+e};function m(){var e=[];var r=true;var u;for(var d in f){if(!f.hasOwnProperty(d)){continue}r=false;u=f[d]||"";e.push(c(d)+a+c(u))}t.name=r?s:n+c(s)+o+e.join(i)}function v(e,t,n){if(!e){return}if(e.addEventListener){e.addEventListener(t,n,false)}else if(e.attachEvent){e.attachEvent("on"+t,function(t){n.call(e,t)})}}v(t,"beforeunload",function(){m()});return l});KISSY.add("zebra-pages/fp/pc/js/mods/util",function(a,e){var r=window.g_config||{};var t=r.lazyDelay||3e3;var n={initWebp:function(){e.init()},getWebp:function(a,r){return e.get(a,r)},addSuffix:function(a,r){return e.suffix(a,r)},lazy:function(e,r){a.later(e,r||t)},mmstat:function(e,r){var t=this;if(!e)return;r="gm";t.send("//"+r+".mmstat.com"+e+"?t="+a.now())},goldlog:function(a,e){(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[a,"","",e]})},smartLazy:function(e,t){if(window.TB&&TB.globalToolFn&&a.isFunction(TB.globalToolFn.smartLazy)){TB.globalToolFn.smartLazy(e,t||r.smartLazyDelay||4e3)}else{e&&e()}},send:function(a){if(!a)return;(new Image).src=a},randomInt:function(a,e){return Math.round(Math.random()*(e-a))+a},getTime:function(){var a=new Date;var e=a.getHours();var r=a.getMinutes();return(e<10?"0"+e:e)+":"+(r<10?"0"+r:r)},log:function(a){console&&console.log&&console.log(a)},trimPic:function(a){if(!a)return"";return a.replace(/_(\d+x\d+(xz)?)?([qQ]\d+)?.jpg/g,"")},trimPrefix:function(a){if(!a)return"";return a.replace(/^(http|https)\:/,"")},smartLazy:function(e,t){if(window.TB&&TB.globalToolFn&&a.isFunction(TB.globalToolFn.smartLazy)){TB.globalToolFn.smartLazy(e,t||r.smartLazyDelay||4e3)}else{e&&e()}},buffer:function(e,r,t){var n,i=0,s=0,r=r||150;function l(){if(n){n.cancel();n=0}i=a.now();e.apply(t||this,arguments);s=a.now()}return a.mix(function(){if(!i||s>=i&&a.now()-s>r||s<i&&a.now()-i>r*8){l()}else{if(n){n.cancel()}n=a.later(l,r,0,null,arguments)}},{stop:function(){if(n){n.cancel();n=0}}})}};return n},{requires:["zebra-pages/fp/pc/js/mods/webp"]});KISSY.add("zebra-pages/fp/pc/js/mods/webp",function(a){var e=false;var r=false;var t=false;var n=[];var i="";var s=0;var o=7;var l=window.g_config||{};return{init:function(){var a=this;a._testJPG();a._testPNG();a._testAlpha()},_loadDone:function(a,e){s|=a;this._checkDone(e)},_testJPG:function(a){var r=this;var t=new Image;t.onload=function(){e=true;n.push("jpg");n.push("jpeg");r._loadDone(1,a)};t.onerror=function(){r._loadDone(1,a)};t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"},_testPNG:function(a){var e=this;var t=new Image;t.onload=function(){r=true;n.push("png");e._loadDone(2,a)};t.onerror=function(){e._loadDone(2,a)};t.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA=="},_testAlpha:function(a){var e=this;var r=new Image;r.onload=function(){t=true;e._loadDone(4,a)};r.onerror=function(){e._loadDone(4,a)};r.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA=="},_checkDone:function(n){var i=this;if(s===o){if(i["canAddSuffixReg"]===undefined){i._generateReg()}if(n&&n.__webp__hadExec===undefined){n.__webp__hadExec=true;a.isFunction(n)&&n({jpeg:e,jpg:e,png:r,alpha:t})}}else{return false}},_generateReg:function(){i=n.join("|");if(n.length>0){this["canAddSuffixReg"]=new RegExp(i+"$","i");this["transformReg"]=new RegExp("(."+i+')s*"',"gi")}},isSupport:function(a){var n=this;if(n._checkDone(a)===false){n._testJPG(a);n._testPNG(a);n._testAlpha(a)}return{jpeg:e,jpg:e,png:r,alpha:t}},get:function(a,e){var t=this;if(s===o){if(t.canAddSuffixReg&&t.canAddSuffixReg.test(a)){if(r||r===false&&a.indexOf(".png")<0){return a+(e?e:"_.webp")}}}return a},transform:function(a,e){if(s===o){if(this.transformReg!==undefined){a=a.replace(this.transformReg,"$1"+(e?e:"_.webp")+'"');if(r===false){a=a.replace(new RegExp("(\\.png_.+?\\.(?:jpg|jpeg))"+(e?e:"_\\.webp"),"gi"),"$1")}}}return a},suffix:function(a,e){var t=this;if(s===o){if(t.canAddSuffixReg&&t.canAddSuffixReg.test(a)){if(r||r===false&&a.indexOf(".png")<0){return e?e:"_.webp"}}}return""}}},{requires:[]});KISSY.add("zebra-pages/fp/pc/js/mods/top",function(a,e,r){var t=".j_top";var n="isShowTop";var i={init:function(){},bindClose:function(){r.on(t+" .j_close","click",function(a){a.preventDefault();a.stopPropagation()})}};return i},{requires:["dom","event"]});KISSY.add("zebra-pages/fp/pc/js/mods/main-banner",function(a,e,r,t,n,i,s,l,o,d,v){var c=window.g_config||{};var p=".j_mainBanner";var f=".j_bannerSlider";var m;var u=["/tmallfp.4100.2","/tmallfp.4100.3","/tmallfp.4100.4","/tmallfp.4100.5","/tmallfp.4100.6"];var g={};var x=false;var b=false;var h={RES_NAME_ARR:["mainBannerSwitch","mainBanner1","mainBanner2","mainBanner3","mainBanner4","mainBanner5","mainBanner6","smallBanner"],RES_ID_ARR:["2015112412","lb-zebra-17931-303882","lb-zebra-17931-303884","lb-zebra-17931-303878","lb-zebra-17931-303880","lb-zebra-17931-303888","lb-zebra-17931-303887","lb-zebra-17931-289062"],init:function(a){_CTK8e29(24,"mainBanner.init","ald.suc1",{msg:"\u5927\u7126\u521d\u59cb\u5316"});var e=this;if(t.ipad!==undefined){b=true}if(!a&&!g_defaultData)return;var r=[];var n;try{r=a[e.RES_ID_ARR[0]].data;if(!r.length||r.length===0){r=window.g_defaultData[e.RES_NAME_ARR[0]]}_CTK8e29(24,"mainBannerSwitch.suc","mainBanner.init",{msg:"\u5927\u7126\u5f00\u5173\u6210\u529f"})}catch(i){_CTK8e29(0,"error:mainBannerSwitch.error","mainBanner.init",{msg:"\u5927\u7126\u5f00\u5173\u51fa\u9519",type:"error"});r=g_defaultData[e.RES_NAME_ARR[0]]||[]}try{m=a[e.RES_ID_ARR[7]].data[0]||g_defaultData[e.RES_NAME_ARR[7]];_CTK8e29(25,"smallBanner.suc","mainBanner.init",{msg:"\u5c0f\u7126\u6570\u636e\u6210\u529f"})}catch(i){_CTK8e29(0,"error:smallBanner.error","mainBanner.init",{msg:"\u5c0f\u7126\u6570\u636e\u51fa\u9519",type:"error"});m=window.g_defaultData[e.RES_NAME_ARR[7]]||{}}var s=[];for(var l=0,o=r.length;l<o;l++){var d;try{d=a[e.RES_ID_ARR[l+1]].data[0]||g_defaultData[e.RES_NAME_ARR[l+1]];_CTK8e29(26,"mainBanner.suc","mainBanner.init",{msg:"\u5927\u7126\u6570\u636e\u6210\u529f"})}catch(i){_CTK8e29(0,"error:mainBanner.error","mainBanner.init",{msg:"\u5927\u7126\u6570\u636e\u51fa\u9519",type:"error"});d=g_defaultData[e.RES_NAME_ARR[l+1]]}if(d){if(""+r[l]["isTanx"]==="true"&&""+r[l]["tanxId"].length>0){d["isTanx"]="true";d["tanxId"]=r[l]["tanxId"]}else if(""+r[l]["isDMJ"]==="true"&&""+r[l]["dmjId"].length>0){d["isDMJ"]="true";d["dmjId"]=r[l]["dmjId"];x=true}if(r[l]["isUse"]){s.push(d)}}}try{e._render({mainBanners:s,smallBanner:m});_CTK8e29(25,"smallBanner.suc","mainBanner.init",{msg:"\u5927\u7126\u6e32\u67d3\u6210\u529f"})}catch(i){_CTK8e29(0,"error:mainBanner.error","mainBanner.init",{msg:"\u5927\u7126\u6e32\u67d3\u51fa\u9519",type:"error"})}e.initSlider();if(t.ie<7)return;if(x){e._loadDMJ()}},_loadDMJ:function(){var e=a.all(".j_DMJ");var r=[];if(!e||e&&e.length<1)return;e.each(function(a){var e=a.attr("data-code");e&&e.length>0&&r.push(e)});i.loadDMJ({aid:r.join(",")||""},function(e){for(var r in e){var t=a.one(".j_DMJ_"+r);if(!t)continue;var n=e[r].data;if(n.length>0){n=n[0]}else{continue}if(a.isEmptyObject(n))continue;var i=t.one(".j_textBanner");var s=t.one(".j_backBanner");var l=t.one(".dmjItem");if(!l||!i||!s)continue;i.attr("data-src",n["textBanner"]);s.attr("data-src",n["backBanner"]);t.css({background:n["bgColor"]});l.attr("href",n["webAction"])}},function(){_CTK8e29(0,"error:ald.dmj","mainBanner.init",{msg:"\u8fbe\u6469\u5251\u52a0\u8f7d\u5931\u8d25",type:"error"})})},_render:function(a){e.html(p,o(a))},initSlider:function(){var e=this;var r=a.one(f);if(!r)return;var i=false;var o="fade",v=false;if(t.ipad!==undefined){o="hSlide";v=true;i=true}var c=new s(r,{eventType:"mouseenter",effect:o,autoSlide:false,autoPlay:false,invisibleStop:false,timeout:3e3,speed:300,hoverStop:true,triggerDelay:200,carousel:i,touchmove:v,navClass:"slider-nav",selectedClass:"selected",contentClass:"slider-content",pannelClass:"slider-pannel"});var p=l.register("marketSlideCount"),m=n(window);p.set(4);p.end(function(){c.next();p.set(4)});p.start();r.on("mouseenter mouseleave",function(a){if(a.type=="mouseenter"){p.pause()}else if(a.type=="mouseleave"){p.resume()}});c.on("beforeSwitch",function(a){var r=a.pannelnode;if(r.data("data-inited")){return}if(r.hasClass(".j_tanxContainer")){e._loadAd(r)}e._loadPic(r,".j_textBanner");e._loadPic(r,".j_backBanner");if(!r.one(".j_textBanner")||t.ie<7){r.one(".j_backBanner").css({"background-position":"left center"})}r.data("data-inited",true)});c.on("afterSwitch",function(a){if(!g[c.currentTab+1]){d.mmstat("/tmallfp.4202."+(c.currentTab+1));g[c.currentTab+1]=true}d.mmstat("/tmallfp.4201."+(c.currentTab+1))});if(!c.tabs)return;c.tabs.on("click",function(a){a.halt()})},_loadPic:function(a,e){if(!a)return;var r=a.one(e);if(!r)return;var n=r.attr("data-src");if(n&&n.length>0){if(t.ie<7){r.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+n+"')"})}else{r.css({background:"url("+n+") no-repeat left center"})}}},_isInViewport:function(){return v.isModuleInViewport(".j_mainBanner")},_loadAd:function(a){if(!a)return;var e=a.one(".j_tanxItem");var r=a.one(".j_tanxDefault");if(!e)return;var t=e.attr("id").replace("tanx-a-","");var n=e.attr("data-spm");var s=e&&e.length>0?'data-spm="'+n+'"':"";i.loadAd(t,function(e){if(e&&e.clickUrl&&e.data){r&&r.hide();a.prepend("<a "+s+'  href="'+e.clickUrl+'"><div class="tanx-banner-con"><img class="tanx-banner" src="'+e.data+'" /></div></a>')}else{}})}};return h},{requires:["dom","event","ua","node","zebra-pages/fp/pc/js/mods/model","mui/slider/","mui/category-menu/count-down","zebra-pages/fp/pc/js/js-xtpl/main-banner-render","zebra-pages/fp/pc/js/mods/util",,"zebra-pages/fp/pc/js/mods/exposure"]});KISSY.add("mui/slider/index",function(e,t){return t},{requires:["mui/slider/base"]});KISSY.add("mui/slider/base",function(e){"use strict";var t=e.Node.all;var n=function(){if(!(this instanceof n)){throw new Error('please use "new Slide()"')}this.init.apply(this,arguments)};n.plug=function(e){var t=this};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();e.augment(n,e.Event.Target,{init:function(t,n){var i=this;if(e.isObject(t)){i.con=t}else if(/^#/i.test(t)){i.con=e.one(t)}else if(e.one("#"+t)){i.con=e.one("#"+t)}else if(e.one(t)){i.con=e.one(t)}else{throw new Error("Slide Container Hooker not found")}i.buildParam(n);i.buildHTML();i.bindEvent();i.fire("ready",{index:0,navnode:i.tabs.item(0),pannelnode:i.pannels.item(0)});if(i.reverse){var a;a=i.previous;i.previous=i.next;i.next=a}if(i.carousel){for(var s=0;s<i.colspan;s++){i.fix_for_transition_when_carousel(s*2)}}i.fixSlideSize();if(i.layerSlide){i.initLayer()}i.stoped=null;i.renderPannelTextarea(i.currentTab);return this},setWrapperSize:function(t){var n=this;if(e.isUndefined(t)){t=0}n.pannels=n.con.all("."+n.contentClass+" ."+n.pannelClass);n.length=n.pannels.length;var i={none:function(){},vSlide:function(){var e=n.animcon.get("region");n.animwrap.setStyles({height:(n.length+t)*e.height/n.colspan+"px"})},hSlide:function(){var e=n.animcon.get("region");n.animwrap.setStyles({width:(n.length+t)*e.width/n.colspan+"px"})},fade:function(){}};i[n.effect]();if(!e.isUndefined(t)){n.relocateCurrentTab()}return this},add:function(t,n){var i=this;if(e.isUndefined(n)||n>i.length){n=i.length}if(e.isString(t)){t=e.one(t)}if(i.transitions){t.css({visibility:"hidden"})}if(n<=i.currentTab){i.currentTab++}if(n==i.length){setTimeout(function(){i.setWrapperSize(1)},0);t.insertAfter(i.pannels[n-1])}else{t.insertBefore(i.pannels[n])}i.setWrapperSize();i.fixSlideSize(i.currentTab);if(i.transitions){t.css({visibility:""})}if(i.transitions){}return this},remove:function(t){var n=this;if(n.length===1){return}if(t<=n.currentTab){n.currentTab--;n.length--}if(n.transitions){n.con.css({display:"none"})}e.one(n.pannels[t]).remove();n.setWrapperSize();if(n.transitions){n.con.css({display:"block"})}n.fixSlideSize(n.currentTab);return this},removeLast:function(){var e=this;e.remove(e.length-1);return e},renderLazyData:function(t){var n=this;t.setStyle("display","none");if(t.attr("lazy-data")=="1"){return}t.attr("lazy-data","1");if(e.isUndefined(s)){var i=String(e.now())}else{var i=e.stamp(s)}var a=t.get("innerHTML").replace(/&lt;/gi,"<").replace(/&gt;/gi,">"),s=e.Node.create("<div>"+a+"</div>");e.one(s).insertBefore(t);e.execScript(a)},renderPannelTextarea:function(t){var n=this;if(!n.pannels.item(t)){return}var i=function(t){var i=e.one(n.pannels.item(t));var a=n.pannels.item(t).all(".data-lazyload");if(a){a.each(function(e,t){n.renderLazyData(e)})}};for(var a=0;a<n.colspan;a++){i(t+a)}},buildWrap:function(){var t=this;t.animwrap=e.Node.create('<div style="position:absolute;width:100%;"></div>');t.animcon.children().appendTo(t.animwrap);t.animcon.empty().appendChild(t.animwrap);t.pannels=t.con.all("."+t.contentClass+" ."+t.pannelClass);return t},doEffectInit:function(){var e=this;var t={none:function(){e.pannels=e.con.all("."+e.contentClass+" ."+e.pannelClass);e.pannels.setStyles({display:"none"});e.pannels.item(e.defaultTab).setStyles({display:"block"})},vSlide:function(){e.buildWrap();var t=e.animcon.get("region");e.pannels.setStyles({"float":"none",overflow:"hidden"});var n=-1*e.defaultTab*t.height;if(e.colspan){n=n/e.colspan}if(e.transitions){e.animwrap.setStyles({overflow:"hidden",height:e.length*t.height/e.colspan+"px","-webkit-transition-duration":"0s","-webkit-transform":"translate3d(0,"+n+"px,0)"})}else{e.animwrap.setStyles({height:e.length*t.height/e.colspan+"px",overflow:"hidden",top:n+"px"})}},hSlide:function(){e.buildWrap();var t=e.animcon.get("region");e.pannels.setStyles({"float":"left",overflow:"hidden"});var n=-1*e.defaultTab*t.width;if(e.colspan){n=n/e.colspan}if(e.transitions){e.animwrap.setStyles({overflow:"hidden",width:e.length*t.width/e.colspan+"px","-webkit-transition-duration":"0s","-webkit-transform":"translate3d("+n+"px,0,0)"})}else{e.animwrap.setStyles({width:e.length*t.width/e.colspan+"px",overflow:"hidden",left:n+"px"})}},fade:function(){e.pannels=e.con.all("."+e.contentClass+" ."+e.pannelClass);e.pannels.setStyles({position:"absolute",zIndex:0});e.pannels.each(function(t,n){if(n==e.defaultTab){t.setStyles({opacity:1,display:"block"})}else{t.setStyles({opacity:0,display:"none"})}})}};t[e.effect]();return this},buildHTML:function(){var t=this;var n=t.con;t.tabs=n.all("."+t.navClass+" "+t.triggerSelector);var i=n.all("."+t.contentClass+" ."+t.pannelClass);t.length=i.size();if(!n.one("."+t.navClass)){e.Node('<ul class="'+t.navClass+'" style="display:none"></ul>').appendTo(t.con)}if(t.tabs.size()===0){var a=n.all("."+t.navClass);var s="";for(var r=0;r<t.length;r++){var l="";if(r===0){l=t.selectedClass}s+='<li class="'+l+'"><a href="javascript:void(0);">'+(r+1)+"</a></li>"}a.set("innerHTML",s)}t.tabs=n.all("."+t.navClass+" "+t.triggerSelector);t.animcon=n.one("."+t.contentClass);t.animwrap=null;t.doEffectInit();if(t.carousel){t.fixSlideSize(t.currentTab-t.colspan);t.highlightNav(t.currentTab-t.colspan)}else{t.fixSlideSize(t.currentTab);t.highlightNav(t.getWrappedIndex(t.currentTab))}if(t.autoSlide===true){if(t.invisibleStop&&t.isSlideVisible()||!t.invisibleStop){t.play()}}return this},getCurrentPannel:function(){var t=this;return e.one(t.pannels[t.currentTab])},renderWidth:function(){var e=this;var t=e.animcon.get("region").width;if(e.effect=="hSlide"){t/=e.colspan}e.pannels.setStyles({width:t+"px"});return this},renderHeight:function(){var e=this;var t=e.animcon.get("region").height;if(e.effect=="vSlide"){t/=e.colspan}e.pannels.setStyles({height:t+"px"});return this},relocateCurrentTab:function(t){var n=this;if(e.isUndefined(t)){t=n.currentTab}if(n.effect!=="hSlide"&&n.effect!=="vSlide"){return}if(n.transitions){if(n.effect==="hSlide"){n.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d("+-1*t*n.animcon.get("region").width/n.colspan+"px,0,0)","-webkit-backface-visibility":"hidden"})}else if(n.effect==="vSlide"){n.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d(0,"+-1*t*n.animcon.get("region").height/n.colspan+"px,0)","-webkit-backface-visibility":"hidden"})}}else{if(n.effect==="hSlide"){n.animwrap.setStyles({left:-1*t*n.animcon.get("region").width/n.colspan})}else if(n.effect==="vSlide"){n.animwrap.setStyles({top:-1*t*n.animcon.get("region").height/n.colspan})}}n.currentTab=t;return this},fixSlideSize:function(e){var t=this;if(t.adaptive_fixed_width){t.renderWidth()}if(t.adaptive_fixed_height){t.renderHeight()}if(t.adaptive_fixed_size){t.renderHeight().renderWidth()}t.resetSlideSize(e);return this},removeHeightTimmer:function(){var t=this;if(!e.isNull(t.heightTimmer)){clearInterval(t.heightTimmer);t.heightTimmer=null}},addHeightTimmer:function(){var t=this;if(!e.isNull(t.heightTimmer)){clearInterval(t.heightTimmer);t.heightTimmer=null}var n=function(){if(t.effect=="hSlide"){t.animcon.setStyles({height:t.pannels.item(t.currentTab).get("region").height+"px"})}};t.heightTimmer=setInterval(n,100);n()},resetSlideSize:function(e){var t=this;var n,i;if(typeof e=="undefined"||e===null){e=t.currentTab}if(t.effect!="hSlide"&&t.effect!="vSlide"){return}if(t.effect=="hSlide"){n=t.adaptive_width?t.adaptive_width():t.animcon.get("region").width;i=t.pannels.item(e).get("region").height;t.animwrap.setStyles({width:t.pannels.size()*n+"px"});n/=t.colspan;t.pannels.setStyles({width:n+"px",display:"block"});t.animcon.setStyles({width:n*t.colspan+"px",overflow:"hidden"});if(t.animWrapperAutoHeightSetting){t.animcon.setStyles({height:i+"px"})}}if(t.effect=="vSlide"){i=t.pannels.item(e).get("region").height;n=t.adaptive_width?t.adaptive_width():t.animcon.get("region").width;t.animwrap.setStyles({height:t.pannels.size()*i+"px"});i/=t.colspan;t.pannels.setStyles({height:i*t.colspan+"px",display:"block"});t.animcon.setStyles({height:i*t.colspan+"px",overflow:"hidden"});if(t.animWrapperAutoWidthSetting){t.animcon.setStyles({width:n+"px"})}}return this},getWrappedIndex:function(e){var t=this,n=0;if(e===0){}if(t.carousel){if(e<t.colspan){n=t.length-t.colspan*3+e}else if(e>=t.length-t.colspan){n=e-(t.length-t.colspan)}else{n=e-t.colspan}}else{n=e}return n},getMousePosition:function(){var t=this;var n=function(e){t._t_mouseX=e.clientX;t._t_mouseY=e.clientY};e.one(document).on("mousemove",n);setTimeout(function(){e.one(window).detach("mouseover",n)},t.triggerDelay)},massTrigger:function(t,n){var i=this;if(!e.inArray(i.eventType,["mouseover","mouseenter"])){t(e.one(n));return}i.getMousePosition();if(e.isUndefined(i._fired)||e.isNull(i._fired)){i._fired=setTimeout(function(){if(i.inRegion([i._t_mouseX+e.one(window).scrollLeft(),i._t_mouseY+e.one(window).scrollTop()],e.one(n))){t(e.one(n))}i._fired=null},i.triggerDelay)}else{clearTimeout(i._fired);i._fired=setTimeout(function(){if(i.inRegion([i._t_mouseX+e.one(window).scrollLeft(),i._t_mouseY+e.one(window).scrollTop()],e.one(n))){t(e.one(n))}i._fired=null},i.triggerDelay)}},getMaxAnimDelay:function(t){var n=this,i=0;if(!n.sublayers){return}e.each(n.sublayers[t],function(e){if(e.durationout+e.delayout>i){i=e.durationout+e.delayout}});return i},inRegion:function(e,t){var n=t.offset();var i={width:t.width(),height:t.height()};if(e[0]>=n.left&&e[0]<=n.left+i.width){if(e[1]>=n.top&&e[1]<=n.top+i.height){return true}}return false},bindEvent:function(){var t=this;if(e.inArray(t.eventType,["click","mouseover","mouseenter"])){t.con._delegate(t.eventType,function(e){e.preventDefault();t.massTrigger(function(e){var n=Number(t.tabs.indexOf(e));if(t.carousel){n=(n+1)%t.length}t.go(n);if(t.autoSlide&&t.stoped===false){t.stop().play()}},e.currentTarget)},"."+t.navClass+" "+t.triggerSelector)}if(t.hoverStop){t.con._delegate("mouseover",function(e){t.isMouseover=true;if(t.autoSlide){var n=t.stoped;t.stop();t.stoped=n}},"."+t.contentClass+" ."+t.pannelClass);t.con._delegate("mouseout",function(e){t.isMouseover=false;if(t.autoSlide&&t.stoped===false)t.play()},"."+t.contentClass+" ."+t.pannelClass)}e.one(window).on("resize",function(e){t.fixSlideSize(t.currentTab);t.relocateCurrentTab()});t.on("beforeSwitch",function(e){if(this.layerSlide&&this.isAming()){return false}});if(true){if(!t.touchmove){return this}t.con._delegate("touchstart",function(e){var n=t.stoped;t.stop();t.stoped=n;t.touching=true;if(t.is_last()&&t.carousel){t.fix_next_carousel()}if(t.is_first()&&t.carousel){t.fix_pre_carousel()}t.startX=e.changedTouches[0].clientX;t.startY=e.changedTouches[0].clientY;t.animwrap.setStyles({"-webkit-transition-duration":"0s"});t.startT=Number(new Date)},"."+t.contentClass);t.con._delegate("touchend",function(e){t.touching=false;if(t.effect==="hSlide"){var n=e.changedTouches[0].clientX;var i=Number(t.animcon.get("region").width);t.deltaX=Math.abs(n-t.startX);var a=Math.abs(n)<Math.abs(t.startX);var s=!a;var r=t.carousel?false:t.is_last()&&a||t.is_first()&&s;var l=function(){t.animwrap.setStyles({"-webkit-transition-duration":Number(t.speed)/2+"s","-webkit-transform":"translate3d("+-1*t.currentTab*t.animcon.get("region").width/t.colspan+"px,0,0)"})}}else if(t.effect==="vSlide"){var o=e.changedTouches[0].clientY;var f=Number(t.animcon.get("region").height);t.deltaY=Math.abs(o-t.startY);var c=Math.abs(o)<Math.abs(t.startY);var u=!c;var r=t.carousel?false:t.is_last()&&c||t.is_first()&&u;var l=function(){t.animwrap.setStyles({"-webkit-transition-duration":Number(t.speed)/2+"s","-webkit-transform":"translate3d(0,"+-1*t.currentTab*t.animcon.get("region").height/t.colspan+"px,0)"})}}var d=function(){if(t.effect==="hSlide"){var e=t.animcon.get("region").width/t.colspan;var n=parseInt((t.deltaX-e/2)/e,10);if(a){if(n>=1&&t.length>2){t.currentTab+=n+1;if(t.currentTab>=t.length-t.colspan){t.currentTab=t.length-t.colspan-1}}t.next()}else{if(n>=1&&t.length>2){t.currentTab+=-1*n-1;if(t.currentTab<=0){t.currentTab=1}}t.previous()}}else if(t.effect==="vSlide"){var i=t.animcon.get("region").height/t.colspan;var n=parseInt((t.deltaX-i/2)/i,10);if(c){if(n>=1&&t.length>2){t.currentTab+=n+1;if(t.currentTab>=t.length-t.colspan){t.currentTab=t.length-t.colspan-1}}t.next()}else{if(n>=1&&t.length>2){t.currentTab+=-1*n-1;if(t.currentTab<=0){t.currentTab=1}}t.previous()}}};if(t.touchmove&&(t.effect==="vSlide"?t.deltaY:t.deltaX)<30){l();return}if(!r&&(t.touchmove&&t.deltaX>i/3||!t.touchmove&&t.carousel||!t.carousel&&t.touchmove&&(t.effect=="hSlide"||t.effect=="vSlide")||!t.touchmove&&!t.carousel||Number(new Date)-t.startT<550)){d()}else{l()}if(t.autoSlide&&t.stoped===false){t.play()}},"."+t.contentClass);if(t.touchmove){t.con._delegate("touchmove",function(e){if(e.touches.length>1)return;if(t.effect==="hSlide"){t.deltaX=e.touches[0].clientX-t.startX;var n=t.is_last()&&t.deltaX<0||t.is_first()&&t.deltaX>0;if(!t.carousel&&t.effect=="hSlide"&&n){t.deltaX=t.deltaX/3}t.isScrolling=Math.abs(t.deltaX)<Math.abs(e.touches[0].clientY-t.startY)?true:false;if(!t.isScrolling){e.preventDefault();var i=t.stoped;t.stop();t.stoped=i;var a=Number(t.animcon.get("region").width/t.colspan);var s=t.deltaX-t.currentTab*a;t.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d("+s+"px,0,0)"})}}else if(t.effect==="vSlide"){t.deltaY=e.touches[0].clientY-t.startY;var n=t.is_last()&&t.deltaY<0||t.is_first()&&t.deltaY>0;if(!t.carousel&&t.effect=="vSlide"&&n){t.deltaY=t.deltaY/3}t.isScrolling=Math.abs(t.deltaY)<Math.abs(e.touches[0].clientX-t.startX)?true:false;if(!t.isScrolling){e.preventDefault();t.stop();var r=Number(t.animcon.get("region").height/t.colspan);var s=t.deltaY-t.currentTab*r;t.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d(0,"+s+"px,0)"})}}},"."+t.contentClass);if(t.animwrap){t.animwrap.on("webkitTransitionEnd",function(){})}}}if(t.invisibleStop){var n=e.getHiddenProp();if(n){var i=n.replace(/[H|h]idden/,"")+"visibilitychange",a;e.one(document).on(i,function(n){if(e.isHidden()){if(t.timer){a=true;t.stop()}else{a=false}}else{if(t.isSlideVisible()&&a){t.play()}}})}e.one(window).on("scroll resize",function(e){if(t.isSlideVisible()){if(!t.timer&&(!t.hoverStop||t.hoverStop&&!t.isMouseover)){t.play()}}else{if(t.timer){t.stop()}}})}return this},isSlideVisible:function(){var t=this,n=t.animcon.offset().left,i=t.animcon.offset().top,a=t.animcon.width(),s=t.animcon.height(),r=e.one(window).scrollTop(),l=e.one(window).scrollLeft();if(r>i+s||r+e.one(window).height()<i||l>n+a||l+e.one(window).width()<n){return false}else{return true}},initLayer:function(){var t=this;if("ontouchstart"in document.documentElement){return}if(e.UA.ie>0&&e.UA.ie<9){return}var n=["durationin","easingin","durationout","easingout","delayin","delayout","slideindirection","slideoutdirection","offsetin","offsetout","alpha","easeInStrong","easeOutStrong","easeBothStrong","easeNone","easeIn","easeOut","easeBoth","elasticIn","elasticOut","elasticBoth","backIn","backOut","backBoth","bounceIn","bounceOut","bounceBoth","left","top","right","bottom"];var i={durationin:1e3,easingin:"easeIn",durationout:1e3,easingout:"easeOut",delayin:300,delayout:300,slideindirection:"right",slideoutdirection:"left",alpha:true,offsetin:50,offsetout:50};var a=function(t){var a=this;var s=[];var r=t.attr("rel").replace(/"'/gi,"").replace(new RegExp("("+n.join("|")+")","ig"),'"$1"');var l=e.JSON.parse("{"+r+"}");function o(e,t){var n=l[t];a[t]=n===undefined||n===null?e:n}e.each(i,o);this.el=t;this.left=Number(t.css("left").replace("px",""));this.top=Number(t.css("top").replace("px",""));this.animIn=function(){var t=this;var n=t.offsetin;var i=t.slideindirection;var a={left:function(){t.el.css({left:t.left-n})},top:function(){t.el.css({top:t.top-n})},right:function(){t.el.css({left:t.left+n})},bottom:function(){t.el.css({top:t.top+n})}};a[i]();setTimeout(function(){var n={left:{left:t.left},top:{top:t.top},bottom:{top:t.top},right:{left:t.left}};var a={};e.mix(a,n[i]);if(t.alpha){e.mix(a,{opacity:1})}e.one(t.el).animate(a,t.durationout/1e3,t.easingin,function(){})},t.delayin);if(t.alpha){t.el.css({opacity:0})}};this.animOut=function(){var t=this;var n=t.offsetout;var i=t.slideoutdirection;var a={left:function(){t.el.css({left:t.left})},top:function(){t.el.css({top:t.top})},right:function(){t.el.css({left:t.left})},bottom:function(){t.el.css({top:t.top})}};a[i]();setTimeout(function(){var a={left:{left:t.left+n},top:{top:t.top+n},bottom:{top:t.top-n},right:{left:t.left-n}};var s={};e.mix(s,a[i]);if(t.alpha){e.mix(s,{opacity:0})}e.one(t.el).animate(s,t.durationout/1e3,t.easingout,function(){})},t.delayout);if(t.alpha){t.el.css({opacity:1})}}};t.sublayers=[];t.pannels.each(function(e,n){if(t.effect=="vSlide"||t.effect=="hSlide"){e.css({position:"relative"})}if(e.all('[alt="sublayer"]').length===0){t.sublayers[n]=[];return}if(t.sublayers[n]===undefined){t.sublayers[n]=[]}e.all('[alt="sublayer"]').each(function(e,i){t.sublayers[n].push(new a(e))})});t.on("beforeSwitch",function(e){if(e.index===t.currentTab){return false}t.subLayerRunin(e.index)});t.on("beforeTailSwitch",function(e){t.subLayerRunout(e.index);return t.getMaxAnimDelay(e.index)})},subLayerRunin:function(t){var n=this;var i=n.sublayers[t];e.each(i,function(e,t){e.animIn()})},subLayerRunout:function(t){var n=this;var i=n.sublayers[t];e.each(i,function(e,t){e.animOut()})},buildParam:function(t){var n=this;if(t===undefined||t===null){t={}}function i(e,i){var a=t[i];n[i]=a===undefined||a===null?e:a}e.each({autoSlide:false,speed:300,timeout:3e3,effect:"none",eventType:"click",easing:"easeBoth",hoverStop:true,invisibleStop:false,selectedClass:"selected",conClass:"t-slide",navClass:"tab-nav",triggerSelector:"li",contentClass:"tab-content",pannelClass:"tab-pannel",carousel:false,reverse:false,touchmove:true,adaptive_fixed_width:false,adaptive_fixed_height:false,adaptive_fixed_size:false,adaptive_width:false,adaptive_height:false,defaultTab:0,layerSlide:false,layerClass:"tab-animlayer",colspan:1,animWrapperAutoWidthSetting:false,animWrapperAutoHeightSetting:true,webkitOptimize:true,triggerDelay:300,autoActived:true},i);e.mix(n,{tabs:[],animcon:null,pannels:[],timmer:null,touching:false});n.speed=n.speed/1e3;if(n.defaultTab!==0){n.defaultTab=Number(n.defaultTab)-1}if(n.carousel){n.defaultTab=0;n.defaultTab=n.colspan+n.defaultTab;if(n.effect!=="hSlide"&&n.effect!=="vSlide"){n.effect="hSlide"}}n.currentTab=n.defaultTab;n.transitions="webkitTransition"in document.body.style&&n.webkitOptimize;return n},fix_for_transition_when_carousel:function(e){var t=this;if(typeof e=="undefined"){e=0}var n=t.con;t.animcon=t.animcon||t.con.one("."+t.contentClass);t.animwrap=t.animwrap||t.animcon.one("div");t.pannels=t.pannels||n.all("."+t.contentClass+" ."+t.pannelClass);if(t.effect=="hSlide"){var i=Number(t.animcon.get("region").width/t.colspan);var a=Number(t.animcon.get("region").height);t.animwrap.setStyle("width",t.pannels.size()*i+2*i);var s=t.pannels.item(e).cloneNode(true);var r=t.pannels.item(t.pannels.size()-1-e).cloneNode(true);t.animwrap.append(s);t.animwrap.prepend(r);if(t.defaultTab===0){var l=-1*i*(e/2+1+t.defaultTab-1)}else{var l=-1*i*(e/2+1)}if(t.transitions){t.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d("+l+"px,0,0)","-webkit-backface-visibility":"hidden",left:"0"})}else{t.animwrap.setStyle("left",l)}}else if(t.effect=="vSlide"){var i=Number(t.animcon.get("region").width);var a=Number(t.animcon.get("region").height/t.colspan);t.animwrap.setStyle("height",t.pannels.size()*a+2*a);var s=t.pannels.item(e).cloneNode(true);var r=t.pannels.item(t.pannels.size()-1-e).cloneNode(true);t.animwrap.append(s);t.animwrap.prepend(r);if(t.defaultTab===0){var o=-1*a*(e/2+1+t.defaultTab-1)}else{var o=-1*a*(e/2+1)}if(t.transitions){t.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d(0,"+o+"px,0)","-webkit-backface-visibility":"hidden",left:"0"})}else{t.animwrap.setStyle("top",o)}}t.pannels=n.all("."+t.contentClass+" ."+t.pannelClass);t.length=t.pannels.size();return this},isAming:function(){var e=this;return false},previous:function(e){var t=this;var n=t.currentTab+t.length-1-(t.colspan-1);if(n>=t.length-t.colspan+1){n=n%(t.length-t.colspan+1)}if(t.carousel){if(t.is_first()){t.fix_pre_carousel();t.previous.call(t);return this}}t.go(n,e);return this},is_last:function(){var e=this;if(e.currentTab==e.length-(e.colspan-1)-1){return true}else{return false}},is_first:function(){var e=this;if(e.currentTab===0){return true}else{return false}},next:function(e){var t=this;var n=t.currentTab+1;if(n>=t.length-t.colspan+1){n=n%(t.length-t.colspan+1)}if(t.carousel){if(t.is_last()){t.fix_next_carousel();t.next.call(t);return this}}t.go(n,e);return this},fix_next_carousel:function(){var e=this;e.currentTab=e.colspan;var t=e.con;if(e.effect!="none"){e.pannels=t.all("."+e.contentClass+" ."+e.pannelClass)}if(e.effect=="hSlide"){var n="-"+Number(e.animcon.get("region").width).toString()+"px";if(e.transitions){e.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d("+n+",0,0)"})}else{e.animwrap.setStyle("left",n)}}else if(e.effect=="vSlide"){var n="-"+Number(e.animcon.get("region").height).toString()+"px";if(e.transitions){e.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d(0,"+n+",0)"})}else{e.animwrap.setStyle("top",n)}}return},fix_pre_carousel:function(){var e=this;e.currentTab=e.length-1-e.colspan*2+1;var t=e.con;if(e.effect!="none"){e.pannels=t.all("."+e.contentClass+" ."+e.pannelClass)}if(e.effect=="hSlide"){var n="-"+(Number(e.animcon.get("region").width/e.colspan)*e.currentTab).toString()+"px";if(e.transitions){e.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d("+n+",0,0)"})}else{e.animwrap.setStyle("left",n)}}else if(e.effect=="vSlide"){var n="-"+(Number(e.animcon.get("region").height/e.colspan)*e.currentTab).toString()+"px";if(e.transitions){e.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d(0,"+n+",0)"})}else{e.animwrap.setStyle("top",n)}}return},highlightNav:function(e){var t=this;if(t.carousel&&(t.colspan>1||t.colspan>1)){return this}if(t.tabs.item(e)){t.tabs.removeClass(t.selectedClass);t.tabs.item(e).addClass(t.selectedClass)}return this},hightlightNav:function(){var e=this;e.highlightNav.apply(e,arguments);return this},unhighlightNav:function(e){var t=this;if(t.carousel&&(t.colspan>1||t.colspan>1)){return this}if(t.tabs.item(e)){t.tabs.removeClass(t.selectedClass)}return this},unhighlightNavAll:function(){var e=this;e.tabs.removeClass(e.selectedClass);return this},switch_to:function(t,n){var i=this;if(n===false){var a=false}else{var a=true}var s=function(){if(e.isFunction(n)){n.call(i,i)}i.fire("afterSwitch",{index:i.currentTab,navnode:i.tabs.item(i.getWrappedIndex(i.currentTab)),pannelnode:i.pannels.item(i.currentTab)})};var r=i.fire("beforeTailSwitch",{index:i.currentTab,navnode:i.tabs.item(i.getWrappedIndex(i.currentTab)),pannelnode:i.pannels.item(i.currentTab)});i.fixSlideSize(t);if(i.autoSlide&&i.stoped===false){i.stop().play()}if(t>=i.length){t=t%i.length}if(t==i.currentTab){return this}if(i.anim){try{i.anim.stop();i.anim=null}catch(l){}}var o={none:function(e){i.pannels.setStyles({display:"none"});i.pannels.item(e).setStyles({display:"block"});s()},vSlide:function(t){if(i.transitions){i.animwrap.setStyles({"-webkit-transition-duration":(a?i.speed:"0")+"s","-webkit-transform":"translate3d(0,"+-1*t*i.animcon.get("region").height/i.colspan+"px,0)","-webkit-backface-visibility":"hidden"});if(a){i.anim=e.one(i.animwrap).animate({"-webkit-transition-duration":i.speed+"s","-webkit-transform":"translate3d(0,"+-1*t*i.animcon.get("region").height/i.colspan+"px,0)","-webkit-backface-visibility":"hidden",opacity:1},e.config("mini")?i.speed:.001,i.easing,function(){});setTimeout(function(){s()},i.speed*1e3)}else{s()}}else{if(a){i.anim=e.one(i.animwrap).animate({top:-1*t*i.animcon.get("region").height/i.colspan},i.speed,i.easing,function(){s()})}else{i.animwrap.css({top:-1*t*i.animcon.get("region").height/i.colspan});s()}}},hSlide:function(t){if(i.transitions){if(a){i.anim=e.one(i.animwrap).animate({"-webkit-transition-duration":i.speed+"s","-webkit-transform":"translate3d("+-1*t*i.animcon.get("region").width/i.colspan+"px,0,0)","-webkit-backface-visibility":"hidden",opacity:1},e.config("mini")?i.speed:.001,i.easing,function(){});setTimeout(function(){s()},i.speed*1e3)}else{s()}}else{if(a){i.anim=e.one(i.animwrap).animate({left:-1*t*i.animcon.get("region").width/i.colspan},i.speed,i.easing,function(){s()})}else{i.animwrap.css({left:-1*t*i.animcon.get("region").width/i.colspan});s()}}},fade:function(t){var n=i.currentTab;i.pannels.item(t).setStyle({display:"block"});i.pannels.item(t).setStyle("opacity",0);i.pannels.item(n).setStyle("zIndex",1);i.pannels.item(t).setStyle("zIndex",2);i.anim=e.one(i.pannels.item(t)).animate({opacity:1},i.speed,i.easing,function(){i.pannels.item(n).setStyle("zIndex",0);i.pannels.item(t).setStyle("zIndex",1);i.pannels.item(n).setStyle("opacity",0);i.pannels.item(n).setStyles({display:"none"});s();i.fire("afterSwitch",{index:t,navnode:i.tabs.item(i.getWrappedIndex(t)),pannelnode:i.pannels.item(t)})})}};var f=function(){var e=i.fire("beforeSwitch",{index:t,navnode:i.tabs.item(t),pannelnode:i.pannels.item(t)});if(e!==false){if(t+i.colspan>i.pannels.size()){t=i.pannels.size()-i.colspan}o[i.effect](t);i.currentTab=t;i.highlightNav(i.getWrappedIndex(t));i.fire("switch",{index:t,navnode:i.tabs.item(i.getWrappedIndex(t)),pannelnode:i.pannels.item(t)});i.renderPannelTextarea(t)}};if(e.isNumber(r)){setTimeout(function(){f()},r)}else{f()}},go:function(e,t){var n=this;n.switch_to(e,t);return this},play:function(){var e=this;if(e.timer!==null){clearTimeout(e.timer)}e.timer=setTimeout(function(){i(function(){clearTimeout(e.timer);e.next().play()})},Number(e.timeout));e.stoped=false;return this},stop:function(){var e=this;clearTimeout(e.timer);e.timer=null;e.stoped=true;return this}});return n},{requires:["node","json","event","anim","ua","mui/slider/slide-util","mui/slider/kissy2yui"]});KISSY.add("mui/slider/slide-util",function(e){"use strict";e.mix(e,{setHash:function(e,t){var n;var i;if(typeof e=="object"){n=window.location.href;t=e}else{n=e}if(n.indexOf("#")<0){n+="#"}var a=this.getHash(n);for(i in t){a[i]=t[i]}n=n.split("#")[0]+"#";for(i in a){n+=i+"="+a[i]+"&"}n=n.substr(0,n.length-1);return n},getHash:function(t){var n=t||window.location.href;if(n.indexOf("#")<0){return{}}else{var i=n.split("#")[1];if(i==="")return{};if(i[i.length-1]=="&")i=i.substr(0,i.length-1);i=i.replace(/"/gi,"'");i=i.replace(/=/gi,'":"');i=i.replace(/&/gi,'","');i+='"';i='{"'+i+"}";var a=e.JSON.parse(i);return a}},_globalEval:function(e){if(e&&/\S/.test(e)){var t=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],n=document.createElement("script");n.text=e;t.insertBefore(n,t.firstChild);setTimeout(function(){t.removeChild(n)},1)}},execScript:function(t){var n=this;var i=new RegExp(/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/gi);var a=e.one("head")[0],s,r,o,l,c,f,u,d=/\ssrc=(['"])(.*?)\1/i,p=/\scharset=(['"])(.*?)\1/i;i.lastIndex=0;while(s=i.exec(t)){r=s[1];o=r?r.match(d):false;if(o&&o[2]){f=document.createElement("script");f.src=o[2];if((l=r.match(p))&&l[2]){f.charset=l[2]}f.async=true;a.appendChild(f)}else if((u=s[2])&&u.length>0){n._globalEval(u)}}},isDaily:function(){var e=this;if(/daily\.taobao\.net/.test(window.location.hostname)){return true}else{return false}},getHiddenProp:function(){if("hidden"in document)return"hidden";var e=["webkit","moz","ms","o"];for(var t=0;t<e.length;t++){if(e[t]+"Hidden"in document)return e[t]+"Hidden"}return null},isHidden:function(){var e=this.getHiddenProp();if(!e)return false;return document[e]}})},{requires:["node","json","event"]});KISSY.add("mui/slider/kissy2yui",function(e){"use strict";var t=e.config("mini")?e.Node.node:e.Node;e.augment(t,{_delegate:function(){var t=this;if(e.isFunction(arguments[1])){t.delegate(arguments[0],arguments[2],arguments[1])}else{t.delegate.apply(t,arguments)}return t},indexOf:function(t){var n=this;if(e.isUndefined(t)){return null}if(t[0]){t=t[0]}var i=0;n.each(function(e,n){if(e[0]===t){i=n}});return i},size:function(){return this.length},set:function(e,t){if(e==="innerHTML"){this.html(t)}else{this.attr(e,t)}return this},get:function(e){var t=this;var n={innerHTML:function(){return t.html()},region:function(){return{height:t.height(),width:t.width()}}};if(e in n){return n[e]()}},appendChild:function(){this.append.apply(this,arguments);return this},setStyle:function(e,t){this.css.apply(this,arguments);return this},setStyles:function(e){this.css.apply(this,arguments);return this},cloneNode:function(){return this.clone.apply(this,arguments)}});e.Node.create=function(t){return e.Node(t)}},{requires:["node","event"]});KISSY.add("mui/category-menu/count-down",function(e,r){var t={registerTimers:[]};var n={init:function(r){var n=this;n.config=e.merge(t,r);n.registerTimers=n.config.registerTimers},register:function(e,r){var t=this;t.set(e,r);return{start:function(){n.start()},set:function(r){t.set(e,r)},resume:function(){t.resume(e)},pause:function(){t.pause(e)},end:function(r){t.on(e+"End",r)}}},set:function(e,r){var t=this;var n=t._find(e);if(!n){t.registerTimers.push({name:e,pause:false,count:r>0?r:-1})}else{n.count=r}return n},resume:function(e){var r=this;var t=r._find(e);if(!t)return;t.pause=false},pause:function(e){var r=this;var t=r._find(e);if(!t)return;t.pause=true},start:function(){var r=this;r.stop();r.counter=e.later(function(){for(var e=0;e<r.registerTimers.length;e++){var t=r.registerTimers[e];if(!t.pause){if(t.count==0){r.fire(t["name"]+"End")}t.count--}}},1e3,true)},stop:function(){var e=this;e.counter&&e.counter.cancel()},_find:function(e){var r=this;for(var t=0;t<r.registerTimers.length;t++){if(r.registerTimers[t]["name"]===e){return r.registerTimers[t]}}return undefined}};e.mix(n,r.Target);n.init();return n},{requires:["event"]});KISSY.add("zebra-pages/fp/pc/js/js-xtpl/main-banner-render",["zebra-pages/fp/pc/js/js-xtpl/main-banner","kg/xtemplate/3.3.3/runtime"],function(e,a,r,n){var t=a("zebra-pages/fp/pc/js/js-xtpl/main-banner");var s=a("kg/xtemplate/3.3.3/runtime");var i=new s(t);n.exports=function(){return i.render.apply(i,arguments)}});KISSY.add("zebra-pages/fp/pc/js/mods/exposure",function(a,e,r,t,n){var i=".j_exposureCon";var s={init:function(a){var e=this;e._initExposure(a)},_initExposure:function(e){var r=this;window.g_fpDataLazyload=window.g_fpDataLazyload||new t({placeholder:"//g.alicdn.com/s.gif",diff:0,autoDestroy:false,container:document});if(!e){e=a}e.all(i).each(function(a){g_fpDataLazyload.addCallback(a,function(){r.exposure(a)})})},exposure:function(a){if(!a)return;if(a.hasClass(".blockGoldlog"))return;var e=a.attr("data-code");if(e){n.mmstat(e);a.removeAttr("data-code")}},isModuleInViewport:function(r){var t=a.one(r);if(!t)return false;var n=e.scrollTop();var i=e.viewportHeight();var s=t.offset().top;var l=t.height();return!(s+l<n||s>n+i)}};return s},{requires:["dom","node","mui/datalazyload/index","zebra-pages/fp/pc/js/mods/util"]});KISSY.add("mui/datalazyload/index",function(t,e,n,a,o){var i=t.Env.host,r=i.document,l="data-ks-lazyload",c="ks-datalazyload",f="-custom",s="default",u="none",d="scroll",m="touchmove",g="resize",h=100,_=0,v="img-ks-lazyload",p,y;if(i.navigator&&i.navigator.userAgent){p=function(t){if(/Android (\d+\.\d+)/i.test(t)){if(parseFloat(RegExp["$1"])<4.3){return false}}return true}(i.navigator.userAgent,o)}function w(t){var n=e.scrollLeft(),a=e.scrollTop();if(t.getBoundingClientRect){var o=t.getBoundingClientRect(),i=document,r=i.body,l=i&&i.documentElement,c=window.getComputedStyle&&window.getComputedStyle(t).zoom||1;n+=o.left*c-(l.clientLeft||r.clientLeft||0);a+=o.top*c-(l.clientTop||r.clientTop||0)}return{left:n,top:a}}function b(t){var e,n,a=[],o;return function(i,r){if(r!==0&&!r){r=1}if(r&1&&!n){n=true;t(function(t){e=t;while(o=a.shift()){try{o&&o.apply(null,[e])}catch(n){setTimeout(function(){throw n},0)}}})}if(e){i&&i.apply(null,[e]);return e}if(!(r&2)){i&&a.push(i)}return e}}function A(e,n,a){var o,i=0,r=0,n=n||150;function l(){if(o){o.cancel();o=0}i=t.now();e.apply(a||this,arguments);r=t.now()}return t.mix(function(){if(!i||r>=i&&t.now()-r>n||r<i&&t.now()-i>n*8){l()}else{if(o){o.cancel()}o=t.later(l,n,0,null,arguments)}},{stop:function(){if(o){o.cancel();o=0}}})}function k(t,e,n){var a=t.length;function o(){a?t[--a].call(null,e,o):n(e)}o()}function R(t,n,a){if(!t.offsetWidth){return false}var o=w(t),i=window.getComputedStyle&&window.getComputedStyle(t).zoom||1,r=true,l,c=o.left,f=o.top,s={left:c,top:f,right:c+(t._ks_lazy_width||(t._ks_lazy_width=e.outerWidth(t)*i)),bottom:f+(t._ks_lazy_height||(t._ks_lazy_height=e.outerHeight(t)*i))};l=I(n,s);if(l&&a){r=I(a,s)}return r&&l}function C(t){if(/^(loaded|complete)$/.test(document.readyState)){return t()}if(window.addEventListener){return window.addEventListener("load",t,false)}if(window.attachEvent){return window.attachEvent("onload",t)}}function S(n,a){var o=this;if(!(o instanceof S)){return new S(n,a)}var i=n;if(!t.isPlainObject(i)){i=a||{};if(n){i.container=n}}S.superclass.constructor.call(o,i);if(p&&!y){y=true;var r=o.get("imgCls")||v;e.addStyleSheet("@-webkit-keyframes ks-fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes ks-fadeIn{0%{opacity:0}100%{opacity:1}}."+r+"{-webkit-animation:ks-fadeIn 350ms linear 0ms 1 normal both;animation:ks-fadeIn 350ms linear 0ms 1 normal both;opacity:1}.img-ks-beforeload{opacity:0}")}o._diffRatio=0;o._callbacks={};o._startLis=[];o._containerIsNotDocument=o.get("container").nodeType!=9;if(t.isArray(i.container)){o._backCompact=1}o["_initLoadEvent"]();i.container&&o.addElements(i.container);o._loadFn();t.ready(function(){o._loadFn()});C(function(){o._diffRatio=Math.max(t.UA.ios?2:1,o._diffRatio);o._loadFn()});o.resume();o.on("afterDiffChange",function(t){if(t.newVal===t.prevVal)return;o._windowRegion=o["_getBoundingRect"]();if(!o._backCompact&&o._containerIsNotDocument){o._containerRegion=o["_getBoundingRect"](o.get("container"))}})}S.ATTRS={diff:{value:s},placeholder:{value:window.ActiveXObject&&!document.documentMode?"//g.alicdn.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},execScript:{value:true},container:{setter:function(n){n=n||r;if(t.isWindow(n)){n=n.document}else{n=e.get(n);if(e.nodeName(n)=="body"){n=n.ownerDocument}}return n},valueFn:function(){return r}},autoDestroy:{value:true},onStart:{value:null}};function I(t,e){var n={};n.top=Math.max(t.top,e.top);n.bottom=Math.min(t.bottom,e.bottom);n.left=Math.max(t.left,e.left);n.right=Math.min(t.right,e.right);return n.bottom>=n.top&&n.right>=n.left}t.extend(S,a,{addStartListener:function(e){var n=this._startLis;if(!e||t.indexOf(e,n)>=0){return}n.push(e)},_initLoadEvent:function(){var a=this,o=a.get("autoDestroy");a.addStartListener(function(t,e){var n=a.get("onStart");if(n){var o=n.apply(this,arguments);if(o===true||o===false){t.returnValue=o}}e()});a.addStartListener(function(e,n){var o=a.get("webpReplacer");if(t.isFunction(o)){t.use("mui/datalazyload/webp",function(t,a){a.isSupport(function(t){if(t){e.src=o(e.src)}n()})})}else{n()}});a.imgHandle=function(){var t=this,o=a.get("imgFlag")||l,i=a.get("imgCls")||v,r=t.getAttribute(o);k(a._startLis,{type:"img",elem:t,src:r},function(a){if(a.returnValue===false){return}if(a.src&&t.src!=a.src){if(p){var r="img-ks-beforeload",l;e.addClass(t,r);l=function(){e.removeClass(t,r);e.addClass(t,i);n.detach(t,"load",l);l=null};n.on(t,"load",l)}t.src=a.src}t.removeAttribute(o)})};a.textareaHandle=function(){var t=this;t.style.display=u;t.className="";var n=e.create("<div>");t.parentNode.insertBefore(n,t);k(a._startLis,{type:"textarea",elem:t,value:t.value},function(t){if(t.returnValue===false){return}e.html(n,t.value,a.get("execScript"));a.addElements(n)})};a._loadFn=A(function(){if(o&&t.isEmptyObject(a._callbacks)){a.destroy()}a["_loadItems"]()},h,a);a._onScroll=function(e){a._onScroll=a._loadFn;a._diffRatio=Math.max(t.UA.ios?4:2,a._diffRatio);a._loadFn()}},refresh:function(){this._loadFn()},_loadItems:function(){var e=this,n=e.get("container");if(e._containerIsNotDocument&&!n.offsetWidth){return}e._windowRegion=e["_getBoundingRect"]();if(!e._backCompact&&e._containerIsNotDocument){e._containerRegion=e["_getBoundingRect"](e.get("container"))}t.each(e._callbacks,function(t,n){t&&e._loadItem(n,t)})},_loadItem:function(t,e){var n=this,e=e||n._callbacks[t];if(!e){return true}var a=e.el,o=false,i=e.fn;if(n.get("force")||R(a,n._windowRegion,n._containerRegion)){try{o=i.call(a)}catch(r){setTimeout(function(){throw r},0)}}if(o!==false){delete n._callbacks[t]}return o},addCallback:function(n,a){n=e.get(n);var o=this,i=o._callbacks,r={el:n||document,fn:a||t.noop},l=++_;i[l]=r;if(o._windowRegion){o._loadItem(l,r)}else{o.refresh()}return l},removeCallback:function(n,a){n=e.get(n);var o=this._callbacks;t.each(o,function(t,e){if(t.el==n&&(a?t.fn==a:1)){delete o[e]}})},getElements:function(){var e=this,n=[],a=[],o=e._callbacks;t.each(o,function(t){if(t.fn==e.imgHandle){n.push(t.el)}if(t.fn==e.textareaHandle){a.push(t.el)}});return{images:this._images,textareas:this._textareas}},addElements:function(n,a){if(typeof n=="string"){n=e.query(n)}else if(!t.isArray(n)){n=[n]}var o=this;t.each(n,function(n){if(!n){return}if(!a||a==="img"){t.each(t.filter([n].concat(e.query("img",n)),function(t){return t.getAttribute&&t.getAttribute(o.get("imgFlag")||l)},o),function(t){var e=o.addCallback(t,o.imgHandle);if(!t.offsetWidth){t.onload=t.onerror=function(){setTimeout(function(){o._loadItem(e)},0)};if(!t.src){o.onPlaceHolder=o.onPlaceHolder||b(function(t){var e=o._phImg=new Image,n=o.get("placeholder");e.onload=e.onerror=function(){t(n)};e.src=n});o.onPlaceHolder(function(e){if(!t.src){t.src=e}})}}})}if(!a||a==="textarea"){t.each(e.query("textarea."+(o.get("areaFlag")||c),n),function(t){o.addCallback(t,o.textareaHandle)})}})},removeElements:function(n){if(typeof n=="string"){n=e.query(n)}else if(!t.isArray(n)){n=[n]}var a=this,o=a._callbacks;t.each(o,function(e,a){if(t.inArray(e.el,n)){delete o[a]}})},_getBoundingRect:function(n){var a,i,r,l;if(n!==o){a=e.outerHeight(n);i=e.outerWidth(n);var c=w(n);r=c.left;l=c.top}else{a=e.viewportHeight();i=e.viewportWidth();r=e.scrollLeft();l=e.scrollTop()}var f=this.get("diff"),u=this._diffRatio;if(f===s){f={left:0,top:0,right:i*u,bottom:a*u}}else if(!t.isObject(f)){f={left:f,top:f,right:f,bottom:f}}return{left:r-(f.left||0),top:l-(f.top||0),right:r+i+(f.right||0),bottom:l+a+(f.bottom||0)}},pause:function(){var t=this,e=t._onScroll,a=t._loadFn;if(t._destroyed){return}n.remove(i,d,e);n.remove(i,m,e);n.remove(i,g,a);a.stop();if(t._containerIsNotDocument){var o=t.get("container");n.remove(o,d,e);n.remove(o,m,e)}},resume:function(){var t=this,e=t._onScroll,a=t._loadFn;if(t._destroyed){return}n.on(i,d,e);n.on(i,m,e);n.on(i,g,a);if(t._containerIsNotDocument){var o=t.get("container");n.on(o,d,e);n.on(o,m,e)}},destroy:function(){var e=this;e.pause();e._callbacks={};t.log("datalazyload is destroyed!");e.fire("destroy");e._destroyed=1}});function x(n,a,o,i){if(a==="img-src"){a="img"}if(!t.isArray(n)){n=[e.get(n)]}var s=new S(r,{});s.set("imgFlag",o||l+f);s.set("imgCls",o||v+f);s.set("areaFlag",o||c+f);s.set("onStart",i);s.set("force",true);s.addElements(n,a)}S.loadCustomLazyData=x;var E;S.instance=function(){return E||(E=new S(null,{autoDestroy:false}))};t.DataLazyload=S;return S},{requires:["dom","event","base"]});/*
Copyright 2014, KISSY v1.49.10
MIT Licensed
build time: Dec 10 14:47
*/
KISSY.add("base",["attribute"],function(e,q){function h(b,a){return function(d){return function(){a?d.apply(this,arguments):this.callSuper.apply(this,arguments);var c=arguments.callee.__owner__.__extensions__||[];a&&c.reverse();var f=arguments,e;if(e=c&&c.length)for(var g=0;g<e;g++){var m=c[g]&&(!b?c[g]:c[g].prototype[b]);m&&m.apply(this,f||[])}a?this.callSuper.apply(this,arguments):d.apply(this,arguments)}}}function n(b){var a=this.__hooks__,d=this.prototype;if(this.__extensions__.length&&a)for(var c in a)if(!d.hasOwnProperty(c)||
b.hasOwnProperty(c))b[c]=b[c]||o;return r.call(this,b)}function s(b){var a;b.target===this&&(a=this[i+b.type.slice(5).slice(0,-6)],a.call(this,b.newVal,b))}function t(b){var a=b.get("plugins"),d;e.each(a,function(b,f){"function"===typeof b&&(d=b,a[f]=new d)})}function j(b){var a,d=this.get("plugins");if(a=d.length)for(var c=0;c<a;c++)if(d[c][b])d[c][b](this)}var p=q("attribute"),k=e.ucfirst,i="_onSet",o=e.noop,l=p.extend({constructor:function(){this.callSuper.apply(this,arguments);var b=this.get("listeners"),
a;for(a in b)this.on(a,b[a]);this.initializer();t(this);j.call(this,"pluginInitializer");this.bindInternal();this.syncInternal()},initializer:o,__getHook:h,__callPluginsMethod:j,bindInternal:function(){var b=this.getAttrs(),a,d;for(a in b)if(d=i+k(a),this[d])this.on("after"+k(a)+"Change",s)},syncInternal:function(){var b=[],a;a=this.constructor;for(var d=this.getAttrs();a;)b.push(a),a=a.superclass&&a.superclass.constructor;b.reverse();for(a=0;a<b.length;a++){var c=b[a].ATTRS||{},f;for(f in c)if(f in
d){var e,g;(g=this[i+k(f)])&&0!==d[f].sync&&void 0!==(e=this.get(f))&&g.call(this,e)}}},plug:function(b){"function"===typeof b&&(b=new b);b.pluginInitializer&&b.pluginInitializer(this);this.get("plugins").push(b);return this},unplug:function(b){var a=[],d=this,c="string"===typeof b;e.each(d.get("plugins"),function(f){var e=0,g;b&&(c?(g=f.get&&f.get("pluginId")||f.pluginId,g!==b&&(a.push(f),e=1)):f!==b&&(a.push(f),e=1));e||f.pluginDestructor(d)});d.setInternal("plugins",a);return d},getPlugin:function(b){var a=
null;e.each(this.get("plugins"),function(d){if((d.get&&d.get("pluginId")||d.pluginId)===b)return a=d,!1});return a},destructor:e.noop,destroy:function(){this.get("destroyed")||(j.call(this,"pluginDestructor"),this.destructor(),this.set("destroyed",!0),this.fire("destroy"),this.detach())}});e.mix(l,{__hooks__:{initializer:h(),destructor:h("__destructor",!0)},ATTRS:{plugins:{value:[]},destroyed:{value:!1},listeners:{value:[]}},extend:function a(d,c,f){e.isArray(d)||(f=c,c=d,d=[]);f=f||{};c=c||{};c=
p.extend.call(this,c,f);c.__extensions__=d;n.call(c,{});if(d.length){var h={},g={};e.each(d.concat(c),function(a){if(a){e.each(a.ATTRS,function(a,c){var d=h[c]=h[c]||{};e.mix(d,a)});var a=a.prototype,c;for(c in a)a.hasOwnProperty(c)&&(g[c]=a[c])}});c.ATTRS=h;g.constructor=c;e.augment(c,g)}c.extend=f.extend||a;c.addMembers=n;return c}});var r=l.addMembers;return e.Base=l});
/*
Copyright 2014, KISSY v1.49.10
MIT Licensed
build time: Dec 10 14:47
*/
KISSY.add("attribute",["event/custom"],function(g,p,F,C){function n(d,a){return"string"===typeof a?d[a]:a}function o(d){return d.__attrVals||(d.__attrVals={})}function q(d,a,c,b,e,f,h,i){h=h||c;return d.fire(a+g.ucfirst(c)+"Change",g.mix({attrName:h,subAttrName:f,prevVal:b,newVal:e},i))}function k(d,a,c){var b=d[a];!c&&!b&&(d[a]=b={});return b||{}}function t(d,a){for(var c=0,b=a.length;void 0!==d&&c<b;c++)d=d[a[c]];return d}function u(d){var a;-1!==d.indexOf(".")&&(a=d.split("."),d=a.shift());return{path:a,
name:d}}function v(d,a,c){var b=c;if(a){var d=b=void 0===d?{}:g.clone(d),e=a.length-1;if(0<=e){for(var f=0;f<e;f++)d=d[a[f]];void 0!==d&&(d[a[f]]=c)}}return b}function w(d,a,c,b,e){var f,h,i;f=u(a);var D=a,a=f.name;f=f.path;i=d.get(a);var l=a,m=k(d,"__defaultBeforeFns");m[l]||(m[l]=1,l="before"+g.ucfirst(l)+"Change",d.publish(l,{defaultFn:x}));f&&(h=t(i,f));if(b.force||!(!f&&i===c||f&&h===c)){c=v(i,f,c);c=g.mix({attrName:a,subAttrName:D,prevVal:i,newVal:c,_opts:b,_attrs:e,target:d},b.data);if(b.silent){if(j===
x.call(d,c))return j}else if(j===d.fire("before"+g.ucfirst(a)+"Change",c))return j;return d}}function x(d){if(d.target===this){var a=d.newVal,c=d.prevVal,b=d.attrName,e=d.subAttrName,f=d._attrs,d=d._opts,a=this.setInternal(b,a);if(a===j)return a;d.silent||(a=o(this)[b],q(this,"after",b,c,a,e,null,d.data),f?f.push({prevVal:c,newVal:a,attrName:b,subAttrName:e}):q(this,"","*",[c],[a],[e],[b],d.data))}}function r(d){var a=this.constructor;for(this.userConfig=d;a;){var c=a.ATTRS;if(c){var b=void 0;for(b in c)this.addAttr(b,
c[b],!1)}a=a.superclass?a.superclass.constructor:null}if(d)for(var e in d)this.setInternal(e,d[e])}function y(d,a){var c=a.__hooks__||{},b;for(b in c)b in d&&(d[b]=c[b](d[b]));g.each(d,function(b,c){if("function"===typeof b){var g=0;if(b.__owner__){var i=b.__owner__;delete b.__owner__;delete b.__name__;var g=b.__wrapped__=1,j=z(b);j.__owner__=i;j.__name__=c;i.prototype[c]=j}else b.__wrapped__&&(g=1);g&&(d[c]=b=z(b));b.__owner__=a;b.__name__=c}})}function E(d){y(d,this);g.mix(this.prototype,d)}function s(d,
a){var c=d.getAttrs(),b=k(c,a,1),e=b.valueFn;if(e&&(e=n(d,e)))e=e.call(d),void 0!==e&&(b.value=e),delete b.valueFn,c[a]=b;return b.value}function A(d,a,c,b){var e,f;e=u(a);a=e.name;if(e=e.path)f=d.get(a),c=v(f,e,c);if((e=k(d.getAttrs(),a).validator)&&(e=n(d,e)))if(d=e.call(d,c,a,b),void 0!==d&&!0!==d)return d}p=p("event/custom");C.exports=r;var z=g.bind,B={},j=!1;r.extend=function a(c,b){var e,b=b||{},c=c||{},f=b.__hooks__;if(e=this.__hooks__)f=b.__hooks__=b.__hooks__||{},g.mix(f,e,!1);e=c.hasOwnProperty("constructor")?
c.constructor:function(){this.callSuper.apply(this,arguments)};c.constructor=e;e.__hooks__=f;y(c,e);var h=b.inheritedStatics;if(f=this.inheritedStatics)h=b.inheritedStatics=b.inheritedStatics||{},g.mix(h,f,!1);g.extend(e,this,c,b);h&&g.mix(e,h);e.extend=b.extend||a;e.addMembers=E;return e};g.augment(r,p.Target,{INVALID:B,callSuper:function(){var a,c,b=arguments;"function"===typeof this&&this.__name__?(a=this,c=b[0],b=Array.prototype.slice.call(b,1)):(a=arguments.callee.caller,a.__wrapped__&&(a=a.caller),
c=this);var e=a.__name__;if(e)return a=a.__owner__.superclass[e],!a?void 0:a.apply(c,b||[])},getAttrs:function(){return this.__attrs||(this.__attrs={})},getAttrVals:function(){var a={},c,b=this.getAttrs();for(c in b)a[c]=this.get(c);return a},addAttr:function(a,c,b){var e=this.getAttrs(),f,c=g.clone(c);(f=e[a])?g.mix(f,c,b):e[a]=c;return this},addAttrs:function(a,c){var b=this;g.each(a,function(a,c){b.addAttr(c,a)});c&&b.set(c);return b},hasAttr:function(a){return this.getAttrs().hasOwnProperty(a)},
removeAttr:function(a){var c=o(this),b=this.getAttrs();this.hasAttr(a)&&(delete b[a],delete c[a]);return this},set:function(a,c,b){var e;if(g.isPlainObject(a)){var b=c||{},c=Object(a),f=[],h=[];for(a in c)void 0!==(e=A(this,a,c[a],c))&&h.push(e);if(h.length)return b.error&&b.error(h),j;for(a in c)w(this,a,c[a],b,f);var i=[],k=[],l=[],m=[];g.each(f,function(a){k.push(a.prevVal);l.push(a.newVal);i.push(a.attrName);m.push(a.subAttrName)});i.length&&q(this,"","*",k,l,m,i,b.data);return this}b=b||{};e=
A(this,a,c);return void 0!==e?(b.error&&b.error(e),j):w(this,a,c,b)},setInternal:function(a,c){var b,e=k(this.getAttrs(),a).setter;if(e&&(e=n(this,e)))b=e.call(this,c,a);if(b===B)return j;void 0!==b&&(c=b);o(this)[a]=c},get:function(a){var c,b=o(this),e,f;-1!==a.indexOf(".")&&(c=a.split("."),a=c.shift());e=k(this.getAttrs(),a,1).getter;f=a in b?b[a]:s(this,a);if(e&&(e=n(this,e)))f=e.call(this,f,a);!(a in b)&&void 0!==f&&(b[a]=f);c&&(f=t(f,c));return f},reset:function(a,c){if("string"===typeof a)return this.hasAttr(a)?
this.set(a,s(this,a),c):this;var c=a,b=this.getAttrs(),e={};for(a in b)e[a]=s(this,a);this.set(e,c);return this}})});
